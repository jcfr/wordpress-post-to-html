<meta charset="utf-8">
<div class="entry-content">
 <p dir="ltr">
  The VTK project saw a boost in development activity over the summer thanks to the Google Summer Of Code program. This is the third year that VTK has participated in the program, where Google pays students to work with experienced mentors on open source projects around the world during their summer break.
 </p>
 <p dir="ltr">
  We carefully selected six students from a set of twenty five proposals for the VTK project and they all learned a great deal over the summer. Their mentors learned quite a bit too and VTK moved forward because of the research and development that we all did together.
 </p>
 <h2 dir="ltr">
  CAD Model and Simulation Spline Visualization
 </h2>
 <p dir="ltr">
  by Lin M with David Thompson
 </p>
 <p dir="ltr">
  <a href="https://gitlab.kitware.com/Lin.Ma/vtk-spline/tree/filter-bezier">
   https://gitlab.kitware.com/Lin.Ma/vtk-spline/tree/filter-bezier
  </a>
 </p>
 <p dir="ltr">
  The "Splines for Simulation and CAD Models" GSoC project made great progress this summer; VTK now has Bézier patch interpolation and inversion for both prismatic and simplicial domains with parametric dimension 1, 2, and 3. The embedding dimension (the dimension of the control point coordinates) can be any dimension, so that simulations can interpolate vector- and tensor-valued fields to curve, surface, and volume splines. Furthermore, a high-level adaptor class was added to iterate over NURBS and tessellate each patch in the knot vector. This approach allows many different iso-geometric finite-element formulations to use the same functionality for visualization even though their basis functions are different.
 </p>
 <p dir="ltr">
  <img height="271px;" src="https://lh3.googleusercontent.com/iTqEwQmC_eJdyhJF9Gq_GUDHEN8_4DU_HvCSyWgAdVg3ktOnM8_EOM3PkpgeVmXCOSZUVIkF6ukFqjxZYXRmTqSxnHGizBD6FH0Baw2vRrIh8ip30WMcj0ohtzCdrQup8FIDs0k" style="border:none;" width="271px;"/>
  <img height="272px;" src="https://lh5.googleusercontent.com/FQIVyq5GSI8iisSmOHI3xWqXJaafvV0nEKdcUnykqziXbVrJRps2qssfEWBT3qbSrQOBp--nQs3ve4ZhupI5cyxhfxYKqY6iwvmf07lzaZEHbqtncnoDDl35-te4LH2QFinPOkw" style="border:none;" width="284px;"/>
 </p>
 <p dir="ltr">
  <em>
   Figure: control points for a test patch (left) and a NURBS model visualized in VTK (right)
  </em>
 </p>
 <h2 dir="ltr">
  Eulerian Motion Magnification
 </h2>
 <p dir="ltr">
  by Ashray Malhotra with David DeMarle and Andrew Bauer
 </p>
 <p dir="ltr">
  <a href="https://github.com/ashray/VTKCodes/tree/master/ImagePyramid">
   https://github.com/ashray/VTKCodes/tree/master/ImagePyramid
  </a>
 </p>
 <p dir="ltr">
  I implemented a technique called Eulerian Motion Magnification. This technique involves magnifying minute motions in videos to be able to see them with the naked eye. The basic idea of the project is to magnify adjacent frame differences. The crux of the project is to “smartly” get those differences so as to not magnify noise along with the signal, and how to magnify motions that lie in a certain frequency range.
 </p>
 <p dir="ltr">
  The code has three main components. One is a YIQ color space converter that was merged into VTK early on in the project. The second is an image pyramid class that we use to store and work with with images in a multiresolution framework. The last is an overall driver application that reads in and operates on image sequences to produce an augmented result sequence.
 </p>
 <p dir="ltr">
  <img height="264px;" src="https://lh3.googleusercontent.com/gF0iQDBaAVuxtxTMLI-mRvYhy3rgmjLoX1U09fgdgbOA2X0obmrY9sKjFMWJfmASRDdQuUX97t3rlY2xyh_kZNLUcNzHvgbo0QyMmUsaHmXmpWS4D07FlQltPiO-vNo-to0UznI" style="border:none;" width="464px;"/>
  <img height="264px;" src="https://lh5.googleusercontent.com/DDmkBYNodMvbsZIb_1BOVRG0uINmy1fImTcRYav2BMOtj6e7i6GbqJ26NZfV5suwyFsCdo1dokB1hA60TTr52S1g0RqdkW2lOHwnSntLJj7XQf4Wd_8I3R4M2mQpwHOshgT9gBw" style="border:none;" width="464px;"/>
 </p>
 <p dir="ltr">
  <em>
   Figure: input (top)  and motion accentuated (bottom) images
  </em>
 </p>
 <h2 dir="ltr">
  External Faces in VTK-m
 </h2>
 <p dir="ltr">
  by Brent Lessley with Robert Maynard
 </p>
 <p dir="ltr">
  <a href="mailto:git@gitlab.kitware.com">
   git@gitlab.kitware.com
  </a>
  :vtk/vtk-m.git
 </p>
 <p dir="ltr">
  As part of my Google Summer of Code project I worked on VTK-m project to implement parallel versions of two important algorithms in the high-performance data visualization community – External Faces and Gaussian Splatter. I contributed worklets for both to the open-source library. The External Faces implementation that I contributed is also used in a paper I wrote looking at the performance of different External Faces implementation on GPUs.
 </p>
 <p dir="ltr">
  <img alt="Description: Macintosh HD:Users:demarle:Desktop:Screen Shot 2015-11-06 at 5.46.45 PM.png" height="360px;" src="https://lh4.googleusercontent.com/VYys9aKjL7oShLSDBCd8Tv7yayQWQ6LRJSjP4PdnT8nU-XwpHBxYojrFcckJIQ2Vezu1aRd-RC3VUj1-tK0Sg9jQvxTeiBz-3gThPpe9YdziJq2rcIPKf92rCFPwN1kFhyVCuFg" style="border:none;" width="521px;"/>
 </p>
 <p dir="ltr">
  <em>
   Figure : Example use case application of a splatter technique. The sample points from the sculpture face are splat onto an output grid that is rendered as a volume using an isosurface algorithm.
  </em>
 </p>
 <h2 dir="ltr">
  Improvements to Earth and Space Science Visualization
 </h2>
 <p dir="ltr">
  by Jia Chen with Aashish Chaudhary
 </p>
 <p dir="ltr">
  <a href="https://github.com/jiac5/SEGY_LOADER">
   https://github.com/jiac5/SEGY_LOADER
  </a>
 </p>
 <p dir="ltr">
  RDV (short for real-time data viewer) format was first used by NEES to specify the seismic events, and later becomes a widely used file format for sharing seismic and microseismic events. We worked on creating a reader that can parse the data from RDV format into VTK.
 </p>
 <p dir="ltr">
  SEG-Y is a standard developed by the Society of Exploration Geophysicists (SEG) for storing geophysical data. It is an open standard, and is controlled by the SEG Technical Standards Committee, which is a non-profit organization. The new VTK SEG-Y reader supports loading data from SEG-Y format. Depending on the parameters, it can return a vtkImageData (for 3D SEG-Y files) or a vtkPolyData (for 2D SEG-Y files) structure. Also, developed new Slice Widget to visualize seismic dataset in VTK (Left image is generated in VTK and we have compared it with an image in OpenInventor).
 </p>
 <p dir="ltr">
  <img height="223px;" src="https://lh5.googleusercontent.com/Aftfz6iZJPiyqjAUqz_0cPmzAKlU01Cdb2yk9sH_C_TtnObDv6F-cgmVxTGtuo5qb3O-Zl4ZoBHfs1hlufCAs2ObG3vsVtYA20SnrBfmS9xekn9YLx-gOkK8WlrrnHl1EK25MTa6" style="border:none;" width="576px;"/>
 </p>
 <p dir="ltr">
  <em>
   Figure: Visualization o
  </em>
  f 2D SEG-Y file
 </p>
 <h2 dir="ltr">
  Shared Memory Parallelism in VTK
 </h2>
 <p dir="ltr">
  by Vincent Chen with Berk Geveci and David Gobbi
 </p>
 <p dir="ltr">
  <a href="https://gitlab.kitware.com/vtk/vtk/merge_requests/551">
   https://gitlab.kitware.com/vtk/vtk/merge_requests/551
  </a>
 </p>
 <p dir="ltr">
  The goal of this project was enhance the SMP (symmetric multi-processing) functionality of the VTK image filter pipeline, by utilizing the vtkSMPTools within the vtkThreadedImageAlgorithm base class and certain other classes. The results were encouraging, out of the five benchmarked filters four saw a performance improvement of 20 to 30 percent on a 36 core Xeon test machine. In addition, the implementation of the SMP framework has been enhanced to provide flexibility in tuning the different SMP parallelization parameters to optimize for particular use cases.
 </p>
 <p dir="ltr">
  <img height="356px;" src="https://lh5.googleusercontent.com/Iv_KL96LqQcEBxTO_gQaxOBLXeu0chZjR80EsxMiXMggoSF0XSG_60W8ilLfZg0hk8bVu-mlXX4TjwFLV5E4PnnARm2ihUFuxDofS1bP-aNqYrAod0alxxYX8ptm_rlnT45HpGM" style="border:none;" width="576px;"/>
 </p>
 <p dir="ltr">
  <em>
   Figure: Performance boost to 5 image filters from new SMP framework.
  </em>
 </p>
 <h2 dir="ltr">
  VTK Parallel Partitioning Project
 </h2>
 <p dir="ltr">
  by Abishek Kumar with John Biddiscombe
 </p>
 <p dir="ltr">
  <a href="https://github.com/abhishek4747/pv-zoltan/tree/gsoc-abhishek4747/">
   https://github.com/abhishek4747/pv-zoltan/tree/gsoc-abhishek4747/
  </a>
 </p>
 <p dir="ltr">
  The core of the project was to partition the data in parallel and identify characteristics of data by communication and data exchanges among these parallel processes. If data is large then these processes could potentially be run on different nodes of a cluster. John had already built an
  <a href="http://github.com/biddisco/pv-zoltan">
   extension
  </a>
  of paraview to partition the data* using Zoltan library and find ghost regions* from the point data.
 </p>
 <p dir="ltr">
  The first task that we accomplished was to replace Zoltan library with its successor, Zoltan2, which has significantly different interface and supposedly better optimizations. Zoltan2 is not yet fully implemented, so we ran into some problems and are still using few parts of Zoltan library. Benchmarking of the new partitioner still needs to be done.
 </p>
 <p dir="ltr">
  The second task that we accomplished was to identify ghost regions. We investigated doing so via three algorithms during this project.
 </p>
 <p dir="ltr">
  <img alt="With boundry cells on both processes..png" height="438px;" src="https://lh3.googleusercontent.com/PKRVhkOpA5wc5gbf4N-2rWYqHIN-8-1V4s-fjFR7Ip-qO9EjD4xF1AoK5PrR0LBkcrtkPgYGn4ID1QCE49sR9f5EkewPnVD6B66nzAIAsXwY8D-SFnpzBsqnOQzCHqHnGkzHZC6V" style="border:none;" width="578px;"/>
 </p>
 <p dir="ltr">
  <em>
   Figure: the boundary regions, which we identified earlier, are now being copied to all the regions they belong to (which wasn’t being done earlier). The colored strips shown in this figure are found using neighbor touching algorithm, which are irrelevant to us.
  </em>
 </p>
 <h2 dir="ltr">
  Conclusion
 </h2>
 <p dir="ltr">
  Our students had a very productive summer, and added a number of new features to VTK. They went beyond developing in isolation for class projects to implementing and integrating features into a codebase with years of history spanning multiple disciplines and domains.
 </p>
 <p dir="ltr">
  We hope our students enjoyed their summers. One said:
 </p>
 <ul style="list-style-type:disc;">
  <li dir="ltr">
   <p dir="ltr">
    “Both the challenging and rewarding part was how to write good, "reusable" code which was never a concern in any of the projects I had done before since people only cared about the result of the execution of the code, not how well the code was written.“
   </p>
  </li>
 </ul>
 <p dir="ltr">
  Another said:
 </p>
 <ul style="list-style-type:disc;">
  <li dir="ltr">
   <p dir="ltr">
    “While contributing new algorithms for the project, I constantly had to formulate multiple, creative design patterns/ideas for parallel computations that were not directly supported by a library function (e.g., a Scatter operation). This definitely enhanced my algorithm design and programming skills.”
   </p>
  </li>
 </ul>
 <p dir="ltr">
  Others said: “GSOC has been an awesome learning experience” and simply “Prepare early, communicate often and work hard :-)”
 </p>
</div>
