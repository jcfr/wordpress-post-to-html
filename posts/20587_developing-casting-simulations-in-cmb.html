<meta charset="utf-8">
<div class="entry-content">
 <p>
  <span style="font-weight: 400">
   There is no question that numerical simulation tools have produced a wide range of benefits in the area of modeling and analysis, especially when coupled with high performance computational (HPC) systems. However, the complicated workflow involved in defining a numerical simulation requires a broad understanding of simulation codes and how to use them. Between defining the geometric domain, assigning simulation information to that domain, and generating meshes best suited to the simulation, an engineer may need to use several different tools, each with their own interfaces. In addition, the engineer has to create the various sets of input files needed to run the simulation.
  </span>
 </p>
 <p>
  <span style="font-weight: 400">
   The significant learning curve needed to create a useful model poses a daunting challenge to a scientist without a background in Computer Science. To address this problem and make computational modeling more accessible to everyone, Kitware created Computational Model Builder (CMB).  This application simplifies the process, creating a single GUI that addresses each part of the workflow. CMB captures workflows in XML format template files, and creates input files needed to run the simulation using Python scripts. This allows CMB to be easily adapted to a large range of workflows without recompilation.
  </span>
 </p>
 <p>
  <span style="font-weight: 400">
   In this article we will demonstrate how CMB has been used to improve a casting workflow based on the Truchas simulation tool, developed over the past ten years at Los Alamos National Laboratory.
  </span>
  <span style="font-weight: 400">
   The core capabilities of this open-source, highly parallel, continuum scale, coupled multiphysics tool primarily target metal casting, with capabilities for metal additive manufacturing (3D printing) under development.
  </span>
  <span style="font-weight: 400">
   Truchas simulations significantly decrease the time required for engineers to develop casting parameters, and allow for casting quality to be evaluated
  </span>
  <span style="font-weight: 400">
   with fewer physical trials
  </span>
  <span style="font-weight: 400">
   .
  </span>
 </p>
 <p>
  <span style="font-weight: 400">
   The Truchas simulator relies on a number of linear and non-linear solvers to calculate the many different physics models including cooling rate, solidification time, heat transfer, molten alloy flow, and temperature and volumetric stresses caused by phase changes.
  </span>
 </p>
 <p>
  <span style="font-weight: 400">
   When the TRUCHAS template is loaded into CMB, the user is presented with an intuitive view of the TRUCHAS workflow, with required and optional information clearly indicated, guiding users through the nuances and pitfalls that each solver presents. Default values are also included in the CMB-TRUCHAS template, in order to help guide new users. As users gain confidence in the system, they can progress from basic options to more advanced features that are easily accessed on demand.
  </span>
 </p>
 <p>
  <span style="font-weight: 400">
   For example when dealing with discrete choices such as which solver methods, preconditioner types, and convergence criteria to use, each of these inputs is presented as a dropdown list. The scientist can see the available choices and make the appropriate selection. Depending on the solver selected, additional information may be presented to the user.
  </span>
 </p>
 <p>
  <span style="font-weight: 400">
   A more advanced example, specific to TRUCHAS, is the use of “enclosure radiation” to model a furnace or other active heat sources affecting the casting/solidification process. Many different settings are needed to specify even a minimal/baseline capability for this, including:
  </span>
 </p>
 <ul>
  <li style="font-weight: 400">
   <span style="font-weight: 400">
    Symmetry and Periodicity: In many cases, the input geometry is a representative section of the overall model, so that symmetry planes and periodic axes must be identified. The CMB-TRUCHAS template enables the user to include the appropriate attributes for each simulation.
   </span>
  </li>
  <li style="font-weight: 400">
   <span style="font-weight: 400">
    Geometry to ignore: It is often desirable to remove certain geometric bodies from the radiation-transfer calculations, in order to reduce computational load. To use this feature, the specific entities can be selected in the 3D model view, and added to the list of entities to ignore.
   </span>
  </li>
  <li style="font-weight: 400">
   <span style="font-weight: 400">
    Motion: In typical applications, a workpiece is moving relative to the heat source during solidification. To include this in a simulation, the user can specify a displacement sequence, presented as an extensible list of displacement vectors versus time.
   </span>
  </li>
 </ul>
 <div class="wp-caption aligncenter" id="attachment_20588" style="width: 1034px">
  <a href="https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT.png">
   <img alt="" class="size-large wp-image-20588" height="668" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-1024x668.png" srcset="https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-1024x668.png 1024w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-300x196.png 300w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-768x501.png 768w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-220x144.png 220w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-250x163.png 250w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-355x232.png 355w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-730x476.png 730w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.35.39-AMEDT-90x59.png 90w" width="1024"/>
  </a>
  <p class="wp-caption-text">
   Adding solver inputs in CMB
  </p>
 </div>
 <p>
  <span style="font-weight: 400">
   Further, CMB provides immediate feedback to let a scientist explore their models in real time and intuitively manipulate each solver.  Meshes are displayed side by side with the solver, and updated in real time as plugins are turned on or off and inputs are tweaked. This gives the scientist immediate understanding of how the change impacts the model.
  </span>
 </p>
 <p>
  <span style="font-weight: 400">
   The last phase of a TRUCHAS Simulation workflow involves post-processing the simulation results. To address these needs, TRUCHAS results are loaded into ParaView, as shown below.
  </span>
 </p>
 <div class="wp-caption aligncenter" id="attachment_20589" style="width: 1034px">
  <a href="https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT.png">
   <img alt="" class="size-large wp-image-20589" height="951" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-1024x951.png" srcset="https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-1024x951.png 1024w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-300x279.png 300w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-768x714.png 768w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-220x204.png 220w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-250x232.png 250w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-355x330.png 355w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-730x678.png 730w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT-90x84.png 90w, https://blog.kitware.com/wp-content/uploads/2017/12/Screen-Shot-2017-10-31-at-11.45.45-AMEDT.png 1370w" width="1024"/>
  </a>
  <p class="wp-caption-text">
   Results of TRUCHAS Simulation that was defined using CMB and visualized using ParaView
  </p>
 </div>
 <p>
  <span style="font-weight: 400">
   More information on CMB as well as access to CMB releases can be found at
   <a href="http://www.computationalmodelbuilder.org">
    http://www.computationalmodelbuilder.org
   </a>
   To learn more about how CMB and ParaView can improve your engineering process, comment below or contact us at
  </span>
  <a href="mailto:kitware@kitware.com">
   <span style="font-weight: 400">
    kitware@kitware.com
   </span>
  </a>
  <span style="font-weight: 400">
   .
  </span>
 </p>
</div>
