<meta charset="utf-8">
<div class="entry-content">
 <p>
  The
  <a href="https://en.wikipedia.org/wiki/C%2B%2B11">
   C++11
  </a>
  standard has plenty of
  <a href="http://www.stroustrup.com/C++11FAQ.html#what-features">
   new goodies
  </a>
  that make programmer’s life easier without sacrificing rigor.
 </p>
 <p>
  Here is a neat example from the book “
  <a href="http://www.stroustrup.com/4th.html">
   The C++ Programming Language
  </a>
  ” by
  <a href="http://en.wikipedia.org/wiki/Bjarne_Stroustrup">
   Bjarne Stroustrup
  </a>
  ,
  <br/>
  that in its
  <a href="http://www.stroustrup.com/4th.html">
   4th edition
  </a>
  covers the C++11 standard.
 </p>
 <p>
  <a href="http://www.stroustrup.com/4th.html">
   <img alt="" height="280" src="http://www.stroustrup.com/4thEnglish.JPG" style="display: block; margin-left: auto; margin-right: auto;" width="230"/>
  </a>
 </p>
 <p>
  Found in Page 107,  Section 4.5.3 Stream Iterators.
 </p>
 <p>
  Let’s consider the tasks of:
 </p>
 <ul>
  <li>
   Reading a list of words from an input file
  </li>
  <li>
   Sorting them
  </li>
  <li>
   Eliminating duplicates and
  </li>
  <li>
   Writing them down into an output file
  </li>
 </ul>
 <p>
  This can be done with the classic Unix shell commands:
 </p>
 <div>
  <table border="0" style="background-color: #cafc9b;">
   <tbody>
    <tr>
     <td>
      <span style="font-family: 'courier new', courier;">
       <span style="font-size: 10px; text-align: justify;">
       </span>
       <span style="font-size: 10px; line-height: 2em; text-align: justify;">
        cat inputfile | sort | uniq &gt; outputfile
       </span>
      </span>
     </td>
    </tr>
   </tbody>
  </table>
  <div>
   <div>
    Where we expect “inputfile” to contain a list of words separated by new lines.
   </div>
  </div>
  <p>
  </p>
  <div>
   <div>
    How to write the equivalent in a C++ program using C++11 ?
   </div>
  </div>
  <div>
   <p>
    Let the
    <a href="https://github.com/luisibanez/Cxx11/blob/master/Source/iostreamiterators.cpp">
     code
    </a>
    (and Stroustrup) speak:
   </p>
  </div>
  <div>
   <table border="0" style="background-color: #f6e98d;">
    <tbody>
     <tr>
      <td>
       <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
       <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41cca047a12340337852" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
        <div class="crayon-plain-wrap">
         <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;iterator&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;string&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;int main() {&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::string inputfilename, outputfilename;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::cin &amp;gt;&amp;gt; inputfilename &amp;gt;&amp;gt; outputfilename;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::ifstream inputfile { inputfilename };&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::ofstream outputfile { outputfilename };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::istream_iterator&amp;lt; std::string &amp;gt; isitr { inputfile };&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::ostream_iterator&amp;lt; std::string &amp;gt; ositr { outputfile, "\n" };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::istream_iterator&amp;lt; std::string &amp;gt; eos {};&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::vector&amp;lt; std::string &amp;gt; str { isitr, eos };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::sort( str.begin(), str.end() );&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::unique_copy( str.begin(), str.end(), ositr );&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; return !inputfile.eof() || !outputfile;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: 'courier new', courier;"&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;</textarea>
        </div>
        <div class="crayon-main">
         <table class="crayon-table">
          <tr class="crayon-row">
           <td class="crayon-nums " data-settings="show">
            <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
             <div class="crayon-num" data-line="crayon-5c41cca047a12340337852-1">
              1
             </div>
            </div>
           </td>
           <td class="crayon-code">
            <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
             <div class="crayon-line" id="crayon-5c41cca047a12340337852-1">
              <span class="crayon-o">
               &lt;
              </span>
              <span class="crayon-e">
               span
              </span>
              <span class="crayon-v">
               style
              </span>
              <span class="crayon-o">
               =
              </span>
              <span class="crayon-s">
               "font-family: courier new,courier; font-size: x-small;"
              </span>
              <span class="crayon-o">
               &gt;
              </span>
              <span class="crayon-p">
               #include &amp;lt;iterator&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;string&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;vector&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;#include &amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;int main() {&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::string inputfilename, outputfilename;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::cin &amp;gt;&amp;gt; inputfilename &amp;gt;&amp;gt; outputfilename;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::ifstream inputfile { inputfilename };&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::ofstream outputfile { outputfilename };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::istream_iterator&amp;lt; std::string &amp;gt; isitr { inputfile };&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::ostream_iterator&amp;lt; std::string &amp;gt; ositr { outputfile, "\n" };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::istream_iterator&amp;lt; std::string &amp;gt; eos {};&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::vector&amp;lt; std::string &amp;gt; str { isitr, eos };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::sort( str.begin(), str.end() );&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; std::unique_copy( str.begin(), str.end(), ositr );&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt; return !inputfile.eof() || !outputfile;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-family: 'courier new', courier;"&gt;&lt;span style="font-family: courier new,courier; font-size: x-small;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;
              </span>
             </div>
            </div>
           </td>
          </tr>
         </table>
        </div>
       </div>
       <!-- [Format Time: 0.0002 seconds] -->
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <div>
   <p>
    This code
   </p>
  </div>
  <div>
   <ul>
    <li>
     <span style="font-size: 10px; line-height: 2em;">
      Reads two filenames from the standard input
     </span>
    </li>
    <li>
     <span style="font-size: 10px; line-height: 2em;">
      Opens one file for input
     </span>
    </li>
    <li>
     <span style="font-size: 10px; line-height: 2em;">
      Opens one file for output
     </span>
    </li>
    <li>
     <span style="font-size: 10px; line-height: 2em;">
      Associates one
      <a href="https://github.com/luisibanez/Cxx11/blob/master/Source/iostreamiterators.cpp#L17">
       iterator to the input file
      </a>
     </span>
    </li>
    <li>
     <span style="font-size: 10px; line-height: 2em;">
      Associates one
      <a href="https://github.com/luisibanez/Cxx11/blob/master/Source/iostreamiterators.cpp#L18">
       iterator to the output file
      </a>
      , along with a separator “\n”
     </span>
    </li>
    <li>
     <span style="font-size: 10px; line-height: 2em;">
      Creates a vector to contain strings and
      <a href="https://github.com/luisibanez/Cxx11/blob/master/Source/iostreamiterators.cpp#L22">
       attach it to the iterator
      </a>
      of the input file
     </span>
    </li>
    <ul>
     <li>
      <span style="font-size: 10px; line-height: 2em;">
       At this point the full file is read into memory and placed into the vector of strings
       <br/>
      </span>
     </li>
    </ul>
    <li>
     <span style="font-size: 10px; line-height: 2em;">
      Calls std::sort and in the process trigger the read.
     </span>
    </li>
    <li>
     Once sorted, copies unique entries to the output file, using the output iterator
    </li>
   </ul>
  </div>
  <div>
   <p>
    This can be rewritten
    <a href="https://github.com/luisibanez/Cxx11/blob/master/Source/iostreamiterators3.cpp">
     a bit shorter
    </a>
    (from the same Book, page 108) as:
   </p>
  </div>
  <div>
   <table border="0" style="background-color: #f6e98d;">
    <tbody>
     <tr>
      <td>
       <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
       <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41cca047a1c967252189" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
        <div class="crayon-plain-wrap">
         <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
&lt;span style="font-family: 'courier new', courier;"&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;iterator&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;string&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;set&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;int main(int argc, const char * argv [] ) {&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::ifstream inputfile&amp;nbsp; { argv[1] };&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::ofstream outputfile { argv[2] };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; using istritr = std::istream_iterator&amp;lt; std::string &amp;gt;;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; using ostritr = std::ostream_iterator&amp;lt; std::string &amp;gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::set&amp;lt; std::string &amp;gt; words { istritr { inputfile }, istritr {} };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::copy( words.begin(), words.end(), ostritr { outputfile, "\n" } );&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; return !inputfile.eof() || !outputfile;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;</textarea>
        </div>
        <div class="crayon-main">
         <table class="crayon-table">
          <tr class="crayon-row">
           <td class="crayon-nums " data-settings="show">
            <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
             <div class="crayon-num" data-line="crayon-5c41cca047a1c967252189-1">
              1
             </div>
            </div>
           </td>
           <td class="crayon-code">
            <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
             <div class="crayon-line" id="crayon-5c41cca047a1c967252189-1">
              <span class="crayon-o">
               &lt;
              </span>
              <span class="crayon-e">
               span
              </span>
              <span class="crayon-v">
               style
              </span>
              <span class="crayon-o">
               =
              </span>
              <span class="crayon-s">
               "font-family: 'courier new', courier;"
              </span>
              <span class="crayon-o">
               &gt;
              </span>
              <span class="crayon-o">
               &lt;
              </span>
              <span class="crayon-e">
               span
              </span>
              <span class="crayon-v">
               style
              </span>
              <span class="crayon-o">
               =
              </span>
              <span class="crayon-s">
               "font-size: x-small;"
              </span>
              <span class="crayon-o">
               &gt;
              </span>
              <span class="crayon-p">
               #include &amp;lt;iterator&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;string&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;fstream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;set&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;#include &amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;int main(int argc, const char * argv [] ) {&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::ifstream inputfile&amp;nbsp; { argv[1] };&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::ofstream outputfile { argv[2] };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; using istritr = std::istream_iterator&amp;lt; std::string &amp;gt;;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; using ostritr = std::ostream_iterator&amp;lt; std::string &amp;gt;;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::set&amp;lt; std::string &amp;gt; words { istritr { inputfile }, istritr {} };&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; std::copy( words.begin(), words.end(), ostritr { outputfile, "\n" } );&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;&amp;nbsp; return !inputfile.eof() || !outputfile;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-size: x-small;"&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;
              </span>
             </div>
            </div>
           </td>
          </tr>
         </table>
        </div>
       </div>
       <!-- [Format Time: 0.0001 seconds] -->
      </td>
     </tr>
    </tbody>
   </table>
  </div>
 </div>
 <p>
 </p>
 <div>
  Using an
  <a href="http://www.cplusplus.com/reference/set/set/">
   std::set
  </a>
  instead of an
  <a href="http://www.cplusplus.com/reference/vector/vector/">
   std::vector
  </a>
  , we get simultaneously the uniqueness property and the sorted property.
 </div>
 <div>
  In particular, both of these properties are enforced as we go inserting new elements in the set.
 </div>
 <p>
 </p>
 <div>
  …and for the offended Pythonists out there…
 </div>
 <div>
  OK, you are right,
 </div>
 <div>
  it is not quite as short as it could be in Python,
 </div>
 <div>
  Here is an attempt to write the same in a Python script:
 </div>
 <div>
  <table border="0" style="background-color: #a7f6fb;">
   <tbody>
    <tr>
     <td>
      <span style="font-size: x-small; font-family: courier new,courier;">
       import sys
      </span>
     </td>
    </tr>
   </tbody>
  </table>
 </div>
</div>