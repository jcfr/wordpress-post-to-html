<meta charset="utf-8">
<div class="entry-content">
 <h3>
  Introduction
 </h3>
 <p>
  The post presents texture quantification algorithms that provide a statistical description of the local texture of a 2D, 3D or N-D image.  The N-Dimensional texture maps are generated with a high performance algorithm and multi-threaded implementation in the
  <a href="https://itk.org/">
   Insight Toolkit (ITK)
  </a>
  .
 </p>
 <p>
  The software is packaged for
  <a href="https://www.python.org/">
   Python
  </a>
  and in a
  <a href="https://www.slicer.org/">
   3D Slicer
  </a>
  extension.
 </p>
 <p>
  We used
  <a href="https://github.com/InsightSoftwareConsortium/ITKTextureFeatures">
   ITKTextureFeatures
  </a>
  to characterize subchondral bone texture in
  <a href="https://en.wikipedia.org/wiki/Temporomandibular_joint">
   temporomandibular joint
  </a>
  (TMJ)
  <a href="http://www.arthritis.org/about-arthritis/types/osteoarthritis/">
   osteoarthritis
  </a>
  (OA). Bone is a great test example for these filters due to the rich textures present in the trabecular bone (low density bone).
 </p>
 <h3>
  Installation
 </h3>
 <h4>
  Python
 </h4>
 <p>
  <a href="https://blog.kitware.com/itk-is-on-pypi-pip-install-itk-is-here/">
   Python wheels
  </a>
  allow us to easily install ITKTextureFeatures and all its dependencies in order to have this texture filters ready to use in Python.They have been generated for the three main operating systems (macOS, Linux and Windows) and three versions of Python (2.7, 3.5 and 3.6).
  <br/>
  To install Python wheels, run the following from the command-line:
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e875c262b788971386" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
python -m pip install --upgrade pip
python -m pip install itk-texturefeatures</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e875c262b788971386-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e875c262b788971386-2">
        2
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e875c262b788971386-1">
        <span class="crayon-v">
         python
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-i">
         m
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         pip
        </span>
        <span class="crayon-v">
         install
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         --
        </span>
        <span class="crayon-e">
         upgrade
        </span>
        <span class="crayon-e">
         pip
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e875c262b788971386-2">
        <span class="crayon-v">
         python
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-i">
         m
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         pip
        </span>
        <span class="crayon-e">
         install
        </span>
        <span class="crayon-v">
         itk
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-v">
         texturefeatures
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0002 seconds] -->
 <p>
  A few
  <a href="https://github.com/InsightSoftwareConsortium/ITKTextureFeatures/tree/2b4544fe39e0ece9007a0d87c396c8586c6f4df5/example">
   Python example scripts
  </a>
  are available to quickly get started.
 </p>
 <h4>
  3D Slicer GUI Application
 </h4>
 <p>
  <img alt="" class="size-full wp-image-18940 aligncenter" height="137" sizes="(max-width: 137px) 100vw, 137px" src="https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture.png" srcset="https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture.png 137w, https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture-90x90.png 90w, https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture-32x32.png 32w, https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture-50x50.png 50w, https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture-64x64.png 64w, https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture-96x96.png 96w, https://blog.kitware.com/wp-content/uploads/2017/07/BoneTexture-128x128.png 128w" width="137"/>
 </p>
 <p>
  The 3D Slicer BoneTextureExtension is available through the Slicer Extension index.
 </p>
 <p>
  For detailed instruction and usage instructions, please follow
  <a href="https://raw.githubusercontent.com/Kitware/BoneTextureExtension/master/Docs/BoneTextureExtensionTutorial_2017.pdf">
   this tutorial
  </a>
  .
 </p>
 <h4>
  C++
 </h4>
 <p>
  In the upcoming ITK 4.13.0 release, the module is made available by enabling the
  <em>
   Module_TextureFeatures
  </em>
  CMake variable when configuring ITK’s build.
 </p>
 <h3>
  Fast
 </h3>
 <p>
  These filters are performant because they are multi-threaded, they take advantage of ITK’s fast neighborhood operators, and they re-use intermediate computations and minimize memory use.
 </p>
 <p>
  <img alt="" class="alignnone wp-image-18942 size-full" height="390" sizes="(max-width: 624px) 100vw, 624px" src="https://blog.kitware.com/wp-content/uploads/2017/07/TextureFeaturesPerformanceComparison-1.png" srcset="https://blog.kitware.com/wp-content/uploads/2017/07/TextureFeaturesPerformanceComparison-1.png 624w, https://blog.kitware.com/wp-content/uploads/2017/07/TextureFeaturesPerformanceComparison-1-300x188.png 300w, https://blog.kitware.com/wp-content/uploads/2017/07/TextureFeaturesPerformanceComparison-1-220x138.png 220w, https://blog.kitware.com/wp-content/uploads/2017/07/TextureFeaturesPerformanceComparison-1-250x156.png 250w, https://blog.kitware.com/wp-content/uploads/2017/07/TextureFeaturesPerformanceComparison-1-355x222.png 355w, https://blog.kitware.com/wp-content/uploads/2017/07/TextureFeaturesPerformanceComparison-1-90x56.png 90w" width="624"/>
 </p>
 <p>
  <a href="https://github.com/KitwareMedical/ITKTextureFeaturesPerformanceComparison/">
   Comparisons
  </a>
  between
  <a href="https://en.wikipedia.org/wiki/MATLAB">
   Matlab
  </a>
  and ITK implementations on 2D square images of different widths (248, 1024 and 2048 pixels) demonstrate exceptional performance with the co-occurrence algorithm. Only 2D images are evaluated since Matlab only can process 2D images for this texture analysis algorithm. The ITK implementations proposed here do not share this limitation and can be used with higher dimensionality images. In addition, the Matlab implementation can only create four different texture maps (contrast, correlation, energy and homogeneity), whereas ITK can create eight (inverse difference moment, cluster shade, cluster prominence, Haralick correlation). Moreover, the iterative algorithms are optimized in our ITK implementation, and not optimized in Matlab.
 </p>
 <h3>
  N-Dimensional
 </h3>
 <p>
  These filters are the only implementation we are aware of that can compute 3D or N-D maps for these features. These maps are comprised of a collection of features which are computed per voxel. In our specific implementation, there are 18 features: 8 co-occurrence features (or Haralick features), and 10 run length features. These features are: energy, entropy, correlation, inverse difference moment (IDM), contrast, cluster shade, cluster prominence, Haralick’s correlation, short run emphasis (SRE), long run emphasis (LRE), grey level non-uniformity (GLN), run length non-uniformity (RLN), low grey level run emphasis (LGRE), high grey level run emphasis (HGRE), short run low grey level emphasis (SRLGE), short run high grey level emphasis (SRHGE), long run low grey level emphasis (LRLGE), and long run high grey level emphasis (LRHGE).
 </p>
 <p>
  <img alt="bone texture maps" class="alignnone size-full wp-image-18937" height="496" src="https://blog.kitware.com/wp-content/uploads/2017/07/TextureMaps_exampleLRLGRE.gif" width="876"/>
 </p>
 <p style="text-align: center">
  <em>
   Example of texture map for LRLGE. Please note how areas the trabecular loss have high values (purple)  for this feature.
  </em>
 </p>
 <p>
  Our 3D Slicer extension includes functionality to split the generated 3D textural maps with 18D features in different 3D volumes for each one of the 18 features.
 </p>
 <h3>
  More Information
 </h3>
 <ul>
  <li>
   The
   <a href="http://www.insight-journal.org/browse/publication/985">
    Insight Journal article
   </a>
   provides additional background on the theory and example application
  </li>
  <li>
   <a href="https://www.slicer.org/wiki/Documentation/Nightly/Extensions/BoneTextureExtension">
    3D Slicer extension
   </a>
  </li>
  <li>
   For additional information, please contact
   <a href="mailto:beatriz.paniagua@kitware.com">
    Bea Paniagua &lt;beatriz.paniagua@kitware.com&gt;
   </a>
  </li>
 </ul>
 <h3>
  Acknowledgements
 </h3>
 <p>
  This work was supported by the National Institute of Health (NIH) National Institute for Dental and Craniofacial Research (NIDCR) grant
  <a href="https://projectreporter.nih.gov/project_info_description.cfm?aid=9383373&amp;icde=35404945&amp;ddparam=&amp;ddvalue=&amp;ddsub=&amp;cr=1&amp;csb=default&amp;cs=ASC&amp;pball=">
   R21DE025306
  </a>
  (Textural Biomarkers of Arthritis for the Subchondral Bone in the Temporomandibular Joint) and NIDCR grant
  <a href="https://projectreporter.nih.gov/project_info_description.cfm?aid=9125815&amp;icde=35404927&amp;ddparam=&amp;ddvalue=&amp;ddsub=&amp;cr=1&amp;csb=default&amp;cs=ASC&amp;pball=">
   R01DE024450
  </a>
  (Quantification of 3D bony Changes in Temporomandibular Joint Osteoarthritis).
 </p>
 <p>
  We would like to thank Dr. Larry Wolford from the Baylor University Medical Center for kindly providing the bone specimens from which we obtained the scans used in the paper. We would like to thank Drs.
  <a href="http://www.dent.umich.edu/about-school/department/opd/faculty-profile-dr-lucia-cevidanes">
   Lucia Cevidanes
  </a>
  ,
  <a href="http://dent.umich.edu/about-school/department/pom/erika-benavides-dds-phd">
   Erika Benavides
  </a>
  and
  <a href="https://sites.google.com/a/umich.edu/dentistry-image-computing/Personnel/antonio-ruellas">
   Antonio Ruellas
  </a>
  at the University of Michigan School of Dentistry as well, for generating the CBCT scans that are presented here.
 </p>
</div>
