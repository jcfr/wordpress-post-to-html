<meta charset="utf-8">
<div class="entry-content">
 <p>
  In the last 2 blogs (
  <a href="https://blog.kitware.com/zero-copy-arrays/">
   1
  </a>
  ,
  <a href="https://blog.kitware.com/converting-pointer-based-algorithms-to-zero-copy-arrays/">
   2
  </a>
  ), we have looked at creating
  <span style="font-family: courier;">
   vtkMappedDataArray&lt;&gt;
  </span>
  subclasses to represent different memory layouts. This enabled us to represent various types of grids without explicitly storing the point coordinates. In this blog, we will take this idea to the next step and create an unstructured grid that uses a
  <span style="font-family: courier;">
   vtkMappedDataArray&lt;&gt;
  </span>
  to represent its points but also store its connectivity implicitly. There are many use cases for this. For example, we can develop a better threshold filter. The current implementation (
  <span style="font-family: courier;">
   vtkThreshold
  </span>
  ) creates an unstructured grid no matter the input type. For structured data, this can be terribly memory inefficient because it creates connectivity arrays and potentially a new explicit point coordinates array (for
  <span style="font-family: courier;">
   vtkImageData
  </span>
  and
  <span style="font-family: courier;">
   vtkRectilinearGrid
  </span>
  ). One alternative to this approach is to create a new unstructured grid type that stores the input dataset and a set of cell ids that meet the threshold criteria. We will cover how such a class can be defined using the zero copy infrastructure. I will describe the new threshold algorithm in detail in a future blog.
 </p>
 <h2 id="vtkimagepointsarray">
  vtkImagePointsArray
 </h2>
 <p>
  First, letâ€™s recap the points array from
  <a href="https://blog.kitware.com/zero-copy-arrays/">
   a previous blog
  </a>
  . The full source for this array is
  <a href="https://github.com/berkgeveci/berkgeveci.github.io/blob/jekyll/code/zero-copy/vtkImagePointsArray.h">
   here
  </a>
  and
  <a href="https://github.com/berkgeveci/berkgeveci.github.io/blob/jekyll/code/zero-copy/vtkImagePointsArray.txx">
   here
  </a>
  . In summary,
  <span style="font-family: courier;">
   vtkImagePointsArray
  </span>
  is a sub-class of
  <span style="font-family: courier;">
   vtkMappedArray&lt;&gt;
  </span>
  that obtains its values from a
  <span style="font-family: courier;">
   vtkImageData
  </span>
  rather than from an array stored explicitly. This enables us to represent unstructured grids with implicit point coordinates. The meat of this class is as follows.
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e81ac6d21004368447" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
template &lt;class Scalar&gt; Scalar&amp; vtkImagePointsArray&lt;Scalar&gt;
::GetValueReference(vtkIdType idx)
{
  assert(this-&gt;Points);

  const vtkIdType tuple = idx / 3;
  const vtkIdType comp = idx % 3;

  return this-&gt;Points-&gt;GetPoint(tuple)[comp];
}</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d21004368447-10">
        10
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-1">
        <span class="crayon-v">
         template
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-t">
         class
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         Scalar
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         Scalar
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         vtkImagePointsArray
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         Scalar
        </span>
        <span class="crayon-o">
         &gt;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-2">
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         GetValueReference
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         idx
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-3">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-4">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         assert
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         Points
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-5">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-6">
        <span class="crayon-h">
        </span>
        <span class="crayon-m">
         const
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         tuple
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         idx
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         3
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-7">
        <span class="crayon-h">
        </span>
        <span class="crayon-m">
         const
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         comp
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         idx
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         %
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         3
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-8">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-9">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         return
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         Points
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetPoint
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         tuple
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-v">
         comp
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d21004368447-10">
        <span class="crayon-sy">
         }
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0004 seconds] -->
 <p>
  Note that
  <span style="font-family: courier;">
   Points
  </span>
  is actually a
  <span style="font-family: courier;">
   vtkImageData
  </span>
  , which calculates point coordinates implicitly with the following code.
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e81ac6d28918459570" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
void vtkImageData::GetPoint(vtkIdType ptId, double x[3])
{
  int i, loc[3];
  const double *origin = this-&gt;Origin;
  const double *spacing = this-&gt;Spacing;
  const int* extent = this-&gt;Extent;

  vtkIdType dims[3];
  dims[0] = extent[1] - extent[0] + 1;
  dims[1] = extent[3] - extent[2] + 1;
  dims[2] = extent[5] - extent[4] + 1;

  loc[0] = ptId % dims[0];
  loc[1] = (ptId / dims[0]) % dims[1];
  loc[2] = ptId / (dims[0]*dims[1]);

  for (i=0; i&lt;3; i++)
    {
    x[i] = origin[i] + (loc[i]+extent[i*2]) * spacing[i];
    }
}</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-10">
        10
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-11">
        11
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-12">
        12
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-13">
        13
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-14">
        14
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-15">
        15
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-16">
        16
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-17">
        17
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-18">
        18
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-19">
        19
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-20">
        20
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d28918459570-21">
        21
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-1">
        <span class="crayon-t">
         void
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         vtkImageData
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         GetPoint
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         ptId
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         double
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         x
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         3
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-2">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-3">
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         int
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         loc
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         3
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-4">
        <span class="crayon-h">
        </span>
        <span class="crayon-m">
         const
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         double
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         *
        </span>
        <span class="crayon-v">
         origin
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         Origin
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-5">
        <span class="crayon-h">
        </span>
        <span class="crayon-m">
         const
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         double
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         *
        </span>
        <span class="crayon-v">
         spacing
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         Spacing
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-6">
        <span class="crayon-h">
        </span>
        <span class="crayon-m">
         const
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         int
        </span>
        <span class="crayon-o">
         *
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         Extent
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-7">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-8">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         3
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-9">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         +
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-10">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         3
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         2
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         +
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-11">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         2
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         5
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         4
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         +
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-12">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-13">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         loc
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         ptId
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         %
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-14">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         loc
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         ptId
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         %
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-15">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         loc
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         2
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         ptId
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-o">
         *
        </span>
        <span class="crayon-v">
         dims
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-16">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-17">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         for
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-cn">
         3
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-o">
         ++
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-18">
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-19">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         x
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         origin
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         +
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         loc
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-o">
         +
        </span>
        <span class="crayon-v">
         extent
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-e ">
         i*
        </span>
        <span class="crayon-cn">
         2
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         *
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         spacing
        </span>
        <span class="crayon-sy">
         [
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-sy">
         ]
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-20">
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         }
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d28918459570-21">
        <span class="crayon-sy">
         }
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0011 seconds] -->
 <p>
  I left out some of the code for simplicity. We can exercise this class with the following.
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e81ac6d2c413095019" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
vtkNew&lt;vtkRTAnalyticSource&gt; source;
source-&gt;SetWholeExtent(-50, 50, -50, 50, -50, 50);
source-&gt;Update();

vtkImageData* wavelet = source-&gt;GetOutput();

vtkNew&lt;vtkImageData&gt; img;
img-&gt;CopyStructure(wavelet);

vtkNew&lt;vtkImagePointsArray&lt;double&gt; &gt; testPts;
testPts-&gt;InitializeArray(img.GetPointer());
testPts-&gt;SetName("pts");

vtkNew&lt;vtkPoints&gt; points;
points-&gt;SetData(testPts.GetPointer());

// This creates an unstructured grid from the input
// image data.
vtkNew&lt;vtkCleanUnstructuredGrid&gt; toUGrid;
toUGrid-&gt;SetInputData(wavelet);
toUGrid-&gt;Update();

vtkUnstructuredGrid* ugrid = toUGrid-&gt;GetOutput();
// Here we substitute the implicit points.
ugrid-&gt;SetPoints(points.GetPointer());

vtkNew&lt;vtkContourFilter&gt; contour2;
contour2-&gt;SetInputData(ugrid);
contour2-&gt;SetValue(0, 200);
contour2-&gt;Update();&lt;code class="language-cpp"&gt;
</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-10">
        10
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-11">
        11
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-12">
        12
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-13">
        13
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-14">
        14
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-15">
        15
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-16">
        16
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-17">
        17
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-18">
        18
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-19">
        19
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-20">
        20
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-21">
        21
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-22">
        22
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-23">
        23
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-24">
        24
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-25">
        25
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-26">
        26
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-27">
        27
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-28">
        28
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-29">
        29
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-30">
        30
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2c413095019-31">
        31
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-1">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkRTAnalyticSource
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-2">
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetWholeExtent
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-3">
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         Update
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-4">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-5">
        <span class="crayon-e ">
         vtkImageData*
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetOutput
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-6">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-7">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkImageData
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         img
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-8">
        <span class="crayon-v">
         img
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         CopyStructure
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-9">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-10">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkImagePointsArray
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-t">
         double
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-11">
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         InitializeArray
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         img
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-12">
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetName
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-s">
         "pts"
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-13">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-14">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkPoints
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         points
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-15">
        <span class="crayon-v">
         points
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-16">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-17">
        <span class="crayon-c">
         // This creates an unstructured grid from the input
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-18">
        <span class="crayon-c">
         // image data.
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-19">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkCleanUnstructuredGrid
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         toUGrid
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-20">
        <span class="crayon-v">
         toUGrid
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetInputData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-21">
        <span class="crayon-v">
         toUGrid
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         Update
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-22">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-23">
        <span class="crayon-e ">
         vtkUnstructuredGrid*
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         ugrid
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         toUGrid
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetOutput
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-24">
        <span class="crayon-c">
         // Here we substitute the implicit points.
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-25">
        <span class="crayon-v">
         ugrid
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetPoints
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         points
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-26">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-27">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkContourFilter
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         contour2
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-28">
        <span class="crayon-v">
         contour2
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetInputData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         ugrid
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-29">
        <span class="crayon-v">
         contour2
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetValue
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         200
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-30">
        <span class="crayon-v">
         contour2
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         Update
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-e">
         code
        </span>
        <span class="crayon-t">
         class
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "language-cpp"
        </span>
        <span class="crayon-o">
         &gt;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2c413095019-31">
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0090 seconds] -->
 <p>
 </p>
 <h2 id="vtkcellset">
  vtkCellSet
 </h2>
 <p>
  Our next step is to define a new unstructured grid that does not store a new connectivity or point coordinate array for an input grid. Instead, we want it to simply store the ids of the cells selected by the threshold process. We will do this by leveraging the mapped unstructured grid functionality created by David Lonie and described
  <a href="http://www.vtk.org/Wiki/VTK/InSituDataStructures">
   here
  </a>
  . We will create a new unstructured grid (subclass of
  <span style="font-family: courier;">
   vtkMappedUnstructuredGrid
  </span>
  ) called
  <span style="font-family: courier;">
   vtkCellSet
  </span>
  . Our first step is to create a helper class (subclass of
  <span style="font-family: courier;">
   vtkObject
  </span>
  ) that takes care of the implementation of core functions. See
  <a href="https://github.com/berkgeveci/berkgeveci.github.io/blob/jekyll/code/zero-copy/vtkCellSet.h">
   here
  </a>
  and
  <a href="https://github.com/berkgeveci/berkgeveci.github.io/blob/jekyll/code/zero-copy/vtkCellSet.cxx">
   here
  </a>
  for the full implementation.
 </p>
 <p>
  As I mentioned, this class should store a dataset and a set of selected cells. This looks as follows.
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e81ac6d2f001612145" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
class vtkCellSetImpl : public vtkObject
{
public:
  void SetDataSet(vtkDataSet*);
  void SetCellIds(vtkIdTypeArray*);

private:
  vtkDataSet* DataSet;
  vtkIdTypeArray* CellIds;
};

vtkCxxSetObjectMacro(vtkCellSetImpl,DataSet,vtkDataSet);
vtkCxxSetObjectMacro(vtkCellSetImpl,CellIds,vtkIdTypeArray);</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-10">
        10
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-11">
        11
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-12">
        12
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d2f001612145-13">
        13
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-1">
        <span class="crayon-t">
         class
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         :
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-m">
         public
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         vtkObject
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-2">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-3">
        <span class="crayon-m">
         public
        </span>
        <span class="crayon-o">
         :
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-4">
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         void
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         SetDataSet
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-e ">
         vtkDataSet*
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-5">
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         void
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         SetCellIds
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-e ">
         vtkIdTypeArray*
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-6">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-7">
        <span class="crayon-m">
         private
        </span>
        <span class="crayon-o">
         :
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-8">
        <span class="crayon-h">
        </span>
        <span class="crayon-e ">
         vtkDataSet*
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         DataSet
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-9">
        <span class="crayon-h">
        </span>
        <span class="crayon-e ">
         vtkIdTypeArray*
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         CellIds
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-10">
        <span class="crayon-sy">
         }
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-11">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-12">
        <span class="crayon-e">
         vtkCxxSetObjectMacro
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-v">
         DataSet
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-v">
         vtkDataSet
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d2f001612145-13">
        <span class="crayon-e">
         vtkCxxSetObjectMacro
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-v">
         CellIds
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-v">
         vtkIdTypeArray
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0003 seconds] -->
 <p>
  Then we need to implement a few key methods as follows.
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e81ac6d33770117359" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
vtkIdType vtkCellSetImpl::GetNumberOfCells()
{
  return this-&gt;CellIds-&gt;GetNumberOfTuples();
}

int vtkCellSetImpl::GetCellType(vtkIdType id)
{
  return this-&gt;DataSet-&gt;GetCellType(this-&gt;CellIds-&gt;GetValue(id));
}

void vtkCellSetImpl::GetCellPoints(vtkIdType cellId,
                                   vtkIdList *ptIds)
{
  return this-&gt;DataSet-&gt;GetCellPoints(this-&gt;CellIds-&gt;GetValue(cellId),
    ptIds);
}

int vtkCellSetImpl::GetMaxCellSize()
{
  return this-&gt;DataSet-&gt;GetMaxCellSize();
}</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-10">
        10
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-11">
        11
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-12">
        12
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-13">
        13
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-14">
        14
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-15">
        15
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-16">
        16
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-17">
        17
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-18">
        18
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-19">
        19
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-20">
        20
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d33770117359-21">
        21
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-1">
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         GetNumberOfCells
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-2">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-3">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         return
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         CellIds
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetNumberOfTuples
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-4">
        <span class="crayon-sy">
         }
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-5">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-6">
        <span class="crayon-t">
         int
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         GetCellType
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         id
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-7">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-8">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         return
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         DataSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetCellType
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         CellIds
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetValue
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         id
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-9">
        <span class="crayon-sy">
         }
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-10">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-11">
        <span class="crayon-t">
         void
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         GetCellPoints
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         cellId
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-12">
        <span class="crayon-h">
        </span>
        <span class="crayon-e ">
         vtkIdList *
        </span>
        <span class="crayon-v">
         ptIds
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-13">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-14">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         return
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         DataSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetCellPoints
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         CellIds
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetValue
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         cellId
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-15">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         ptIds
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-16">
        <span class="crayon-sy">
         }
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-17">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-18">
        <span class="crayon-t">
         int
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         GetMaxCellSize
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-19">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-20">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         return
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         DataSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetMaxCellSize
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d33770117359-21">
        <span class="crayon-sy">
         }
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0005 seconds] -->
 <p>
  Note that many of these are deferred to the underlying dataset (
  <span style="font-family: courier;">
   DataSet
  </span>
  ). The key point is that cell ids are transformed using the internal selection array (
  <span style="font-family: courier;">
   CellIds
  </span>
  ) as in this example.
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e81ac6d35464829857" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
void vtkCellSetImpl::GetCellPoints(vtkIdType cellId,
                                   vtkIdList *ptIds)
{
  return this-&gt;DataSet-&gt;GetCellPoints(this-&gt;CellIds-&gt;GetValue(cellId),
    ptIds);
}</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e81ac6d35464829857-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d35464829857-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d35464829857-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d35464829857-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d35464829857-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d35464829857-6">
        6
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e81ac6d35464829857-1">
        <span class="crayon-t">
         void
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         vtkCellSetImpl
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         GetCellPoints
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         cellId
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d35464829857-2">
        <span class="crayon-h">
        </span>
        <span class="crayon-e ">
         vtkIdList *
        </span>
        <span class="crayon-v">
         ptIds
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d35464829857-3">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d35464829857-4">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         return
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         DataSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetCellPoints
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-r">
         this
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-v">
         CellIds
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetValue
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         cellId
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d35464829857-5">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         ptIds
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d35464829857-6">
        <span class="crayon-sy">
         }
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0002 seconds] -->
 <p>
  This means that any
  <span style="font-family: courier;">
   DataSet
  </span>
  cell not listed in the
  <span style="font-family: courier;">
   CellIds
  </span>
  array will be ignored by this class. We can exercise this class as follows
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e81ac6d37941341492" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
vtkNew&lt;vtkRTAnalyticSource&gt; source;
source-&gt;SetWholeExtent(-50, 50, -50, 50, -50, 50);
source-&gt;Update();

vtkImageData* wavelet = source-&gt;GetOutput();

vtkNew&lt;vtkImageData&gt; img;
img-&gt;CopyStructure(wavelet);

vtkNew&lt;vtkImagePointsArray&lt;double&gt; &gt; testPts;
testPts-&gt;InitializeArray(img.GetPointer());
testPts-&gt;SetName("pts");

vtkNew&lt;vtkPoints&gt; points;
points-&gt;SetData(testPts.GetPointer());

vtkNew&lt;vtkCellSet&gt; cellSet;
cellSet-&gt;SetPoints(points.GetPointer());
cellSet-&gt;GetPointData()-&gt;PassData(wavelet-&gt;GetPointData());
cellSet-&gt;GetImplementation()-&gt;SetDataSet(wavelet);

vtkNew&lt;vtkIdTypeArray&gt; ids;
vtkIdType ncells = wavelet-&gt;GetNumberOfCells();
ids-&gt;SetNumberOfTuples(ncells/2);
for (vtkIdType i=0; i&lt;ncells/2; i++)
  {
  ids-&gt;SetValue(i, i);
  }

cellSet-&gt;GetImplementation()-&gt;SetCellIds(ids.GetPointer());

vtkNew&lt;vtkContourFilter&gt; contour;
contour-&gt;SetValue(0, 150);
contour-&gt;SetInputData(cellSet.GetPointer());
contour-&gt;Update();</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-10">
        10
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-11">
        11
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-12">
        12
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-13">
        13
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-14">
        14
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-15">
        15
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-16">
        16
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-17">
        17
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-18">
        18
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-19">
        19
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-20">
        20
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-21">
        21
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-22">
        22
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-23">
        23
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-24">
        24
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-25">
        25
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-26">
        26
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-27">
        27
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-28">
        28
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-29">
        29
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-30">
        30
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-31">
        31
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-32">
        32
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-33">
        33
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-34">
        34
       </div>
       <div class="crayon-num" data-line="crayon-5c41e81ac6d37941341492-35">
        35
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-1">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkRTAnalyticSource
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-2">
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetWholeExtent
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         50
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-3">
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         Update
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-4">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-5">
        <span class="crayon-e ">
         vtkImageData*
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         source
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetOutput
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-6">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-7">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkImageData
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         img
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-8">
        <span class="crayon-v">
         img
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         CopyStructure
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-9">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-10">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkImagePointsArray
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-t">
         double
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-11">
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         InitializeArray
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         img
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-12">
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetName
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-s">
         "pts"
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-13">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-14">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkPoints
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         points
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-15">
        <span class="crayon-v">
         points
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         testPts
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-16">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-17">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkCellSet
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         cellSet
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-18">
        <span class="crayon-v">
         cellSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetPoints
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         points
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-19">
        <span class="crayon-v">
         cellSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetPointData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         PassData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetPointData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-20">
        <span class="crayon-v">
         cellSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetImplementation
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetDataSet
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-21">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-22">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkIdTypeArray
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         ids
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-23">
        <span class="crayon-e">
         vtkIdType
        </span>
        <span class="crayon-v">
         ncells
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         wavelet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetNumberOfCells
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-24">
        <span class="crayon-v">
         ids
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetNumberOfTuples
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         ncells
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-cn">
         2
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-25">
        <span class="crayon-st">
         for
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-i">
         vtkIdType
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         ncells
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-cn">
         2
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-o">
         ++
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-26">
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-27">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         ids
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetValue
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         i
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-28">
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         }
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-29">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-30">
        <span class="crayon-v">
         cellSet
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         GetImplementation
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetCellIds
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         ids
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-31">
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-32">
        <span class="crayon-v">
         vtkNew
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         vtkContourFilter
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         contour
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-33">
        <span class="crayon-v">
         contour
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetValue
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         150
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-34">
        <span class="crayon-v">
         contour
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         SetInputData
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         cellSet
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         GetPointer
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e81ac6d37941341492-35">
        <span class="crayon-v">
         contour
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         Update
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0034 seconds] -->
 <p>
  Here, we restricted the contour filter to the first half of the cells of the original image data by simply creating a
  <span style="font-family: courier;">
   vtkCellSet
  </span>
  . Note that this code would have been almost identical whether we were dealing with an image data, structured grid or an unstructured grid. All
  <span style="font-family: courier;">
   vtkCellSet
  </span>
  needs is a
  <span style="font-family: courier;">
   vtkDataSet
  </span>
  and a set of cell ids.
 </p>
 <p>
  This is it! When I first worked on this example, I could not believe that it is this simple. Granted, I left some of the more complex methods such as
  <span style="font-family: courier;">
   GetPointCells()
  </span>
  unimplemented because I didnâ€™t need them. Still, with some additional data structures, it would be fairly easy to implement them. We will discuss a new threshold filter that uses the
  <span style="font-family: courier;">
   vtkCellSet
  </span>
  class in a future blog.
 </p>
</div>
