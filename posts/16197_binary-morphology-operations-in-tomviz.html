<meta charset="utf-8">
<div class="entry-content">
 <p>
  In a previous
  <a href="https://blog.kitware.com/segmentation-and-analysis-features-in-tomviz/">
   blog post
  </a>
  , I showed some basic segmentation algorithms recently added to
  <a href="http://www.tomviz.org">
   Tomviz
  </a>
  . These algorithms produce labeled images where a voxel’s label indicates the object to which it belongs.
 </p>
 <p>
  Electron tomography image data may contain artifacts such as noise and reconstruction error, so it is often necessary to clean up mislabeled voxels in the segmentation results. Binary morphology operations make up one group of processing algorithms that can be used for this task [*]. They can be used on labeled images to fill in small holes in an object, remove small objects caused by noise, and either fuse or separate larger objects in an image.
 </p>
 <p>
  In Tomviz, morphology operations for labeled images are provided as the data transforms Binary Dilate, Binary Erode, Binary Open, and Binary Close. The “Binary” in the name refers to the fact that the data transforms operate on voxels with two values, a foreground and background value. One may choose both the label to be considered foreground and the label to be considered background, so binary morphology operations can be used on images with more than two labels. Tomviz also makes it possible to select a spherically symmetric structuring element (box, ball, or cross) and set its radius, as shown in the dialog box for Binary Erode:
 </p>
 <p>
  <img alt="BinaryErodeInterface" class="alignnone size-medium wp-image-16288 aligncenter" height="168" sizes="(max-width: 300px) 100vw, 300px" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErodeInterface-300x168.png" srcset="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErodeInterface-300x168.png 300w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErodeInterface-220x123.png 220w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErodeInterface-250x140.png 250w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErodeInterface-355x199.png 355w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErodeInterface-90x50.png 90w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErodeInterface.png 471w" width="300"/>
 </p>
 <p>
  Below I show results of the four binary morphology operations available in Tomviz’s
  <a href="http://www.tomviz.org/downloads/">
   nightly builds
  </a>
  . The images on the left are the starting image generated by the Binary Threshold data transform in TomViz, and the images on the right show the results of the morphology operations.
 </p>
 <table class=" aligncenter">
  <tbody>
   <tr>
    <td>
     <strong>
      Operation
     </strong>
    </td>
    <td>
     <p style="text-align: center">
      <strong>
       Original Binary Image
      </strong>
     </p>
    </td>
    <td>
     <p style="text-align: center">
      <strong>
       Morphology Operation Result
      </strong>
     </p>
    </td>
   </tr>
   <tr>
    <td>
     <strong>
      Dilate
     </strong>
    </td>
    <td>
     <strong>
      <img alt="BinaryThresholdOriginal" class="alignnone size-medium wp-image-16220" height="300" sizes="(max-width: 300px) 100vw, 300px" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png" srcset="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png 300w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-220x220.png 220w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-250x250.png 250w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-90x90.png 90w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-32x32.png 32w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-50x50.png 50w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-64x64.png 64w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-96x96.png 96w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-128x128.png 128w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal.png 331w" width="300"/>
     </strong>
    </td>
    <td>
     <strong>
      <img alt="BinaryDilate" class="alignnone size-medium wp-image-16217" height="300" sizes="(max-width: 300px) 100vw, 300px" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-300x300.png" srcset="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-300x300.png 300w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-220x220.png 220w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-250x250.png 250w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-90x90.png 90w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-32x32.png 32w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-50x50.png 50w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-64x64.png 64w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-96x96.png 96w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate-128x128.png 128w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryDilate.png 331w" width="300"/>
     </strong>
    </td>
   </tr>
   <tr>
    <td>
     <strong>
      Erode
     </strong>
    </td>
    <td>
     <img alt="BinaryThresholdOriginal" class="alignnone size-medium wp-image-16220" height="300" sizes="(max-width: 300px) 100vw, 300px" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png" srcset="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png 300w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-220x220.png 220w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-250x250.png 250w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-90x90.png 90w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-32x32.png 32w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-50x50.png 50w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-64x64.png 64w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-96x96.png 96w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-128x128.png 128w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal.png 331w" width="300"/>
    </td>
    <td>
     <img alt="BinaryErode" class="alignnone size-medium wp-image-16217" height="300" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryErode-300x300.png" width="300"/>
    </td>
   </tr>
   <tr>
    <td>
     <strong>
      Open
     </strong>
    </td>
    <td>
     <img alt="BinaryThresholdOriginal" class="alignnone size-medium wp-image-16220" height="300" sizes="(max-width: 300px) 100vw, 300px" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png" srcset="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png 300w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-220x220.png 220w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-250x250.png 250w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-90x90.png 90w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-32x32.png 32w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-50x50.png 50w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-64x64.png 64w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-96x96.png 96w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-128x128.png 128w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal.png 331w" width="300"/>
    </td>
    <td>
     <img alt="BinaryOpen" class="alignnone size-medium wp-image-16217" height="300" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryOpen-300x300.png" width="300"/>
    </td>
   </tr>
   <tr>
    <td>
     <strong>
      Close
     </strong>
    </td>
    <td>
     <img alt="BinaryThresholdOriginal" class="alignnone size-medium wp-image-16220" height="300" sizes="(max-width: 300px) 100vw, 300px" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png" srcset="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-300x300.png 300w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-220x220.png 220w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-250x250.png 250w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-90x90.png 90w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-32x32.png 32w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-50x50.png 50w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-64x64.png 64w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-96x96.png 96w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal-128x128.png 128w, https://blog.kitware.com/wp-content/uploads/2016/10/BinaryThresholdOriginal.png 331w" width="300"/>
    </td>
    <td>
     <img alt="BinaryClose" class="alignnone size-medium wp-image-16217" height="300" src="https://blog.kitware.com/wp-content/uploads/2016/10/BinaryClose-300x300.png" width="300"/>
    </td>
   </tr>
  </tbody>
 </table>
 <p style="text-align: left">
  With Tomviz’s integration of the Insight Registration and Segmentation Toolkit (
  <a href="http://www.itk.org">
   www.itk.org
  </a>
  ), we are able to add more image processing and segmentation algorithm families to Tomviz.
 </p>
 <p style="text-align: left">
  [*] For details on mathematical morphology, please see, for example,
  <a href="https://www.idi.ntnu.no/emner/tdt4265/lectures/lecture3b.pdf">
   https://www.idi.ntnu.no/emner/tdt4265/lectures/lecture3b.pdf
  </a>
 </p>
</div>
