<meta charset="utf-8">
<div class="entry-content">
 <p>
  <img alt="" class="aligncenter size-medium wp-image-24177" height="110" sizes="(max-width: 300px) 100vw, 300px" src="http://blog.kitware.com/wp-content/uploads/2018/12/IMSTK_Logo_512-4-300x110.png" srcset="https://blog.kitware.com/wp-content/uploads/2018/12/IMSTK_Logo_512-4-300x110.png 300w, https://blog.kitware.com/wp-content/uploads/2018/12/IMSTK_Logo_512-4-220x81.png 220w, https://blog.kitware.com/wp-content/uploads/2018/12/IMSTK_Logo_512-4-250x92.png 250w, https://blog.kitware.com/wp-content/uploads/2018/12/IMSTK_Logo_512-4-355x130.png 355w, https://blog.kitware.com/wp-content/uploads/2018/12/IMSTK_Logo_512-4-90x33.png 90w, https://blog.kitware.com/wp-content/uploads/2018/12/IMSTK_Logo_512-4.png 512w" width="300"/>
 </p>
 <p>
  Medical simulators are complex yet powerful tools that help residents train for (or rehearse) complex surgical procedures and learn basic skills that are common to different surgeries performed in the operating room (OR) [1]. More specifically, simulators make training and skills acquisition more efficient through the use of quantifiable measures. Studies have indicated that medical simulators have led to fewer errors in the OR and have decreased the costs of post-surgical care [2-4].
 </p>
 <p>
  A typical medical simulator is a collage of software tools from disciplines such as computational mechanics, 3D graphics, medical image processing, computational linear algebra, 3D geometric modeling, computational geometry, haptics, human factors, and computational physiology. As a result, it can be laborious and time consuming for developers with expertise in even a few of these disciplines to build a simulator that can pass validation and be ready for clinical deployment.
 </p>
 <p>
  In response to this need, we developed the
  <a href="http://www.imstk.org/" rel="noopener" target="_blank">
   interactive Medical Simulation Toolkit
  </a>
  (iMSTK)—a C++ based free and open source toolkit that aids rapid prototyping of real-time multi-modal surgical simulation scenarios. iMSTK systematically embeds commonly used features in separate modules and presents them to developers through a palatable API. It aims to help research and development efforts in academia and industry. Version 1.0 of iMSTK came out last week.
 </p>
 <p>
  Below are some of the main features that iMSTK offers.
 </p>
 <p>
  <strong>
   Physics-based simulation:
  </strong>
  The Simulation module has features such as linear and nonlinear finite element models along with position based dynamics [5] (elastic objects, fluids and membrane).
 </p>
 <p>
  <strong>
   Rendering:
  </strong>
  iMSTK offers two rendering backends with the Visualization Toolkit (VTK) [6] and Vulkan API. Besides standard rendering capabilities, advanced physically based rendering such as sub-surface scattering, shadows, and decals are available.
 </p>
 <p>
  <strong>
   External Hardware:
  </strong>
  The Hardware input/output module supports over 30 devices through Virtual Reality Peripheral Network (VRPN) [7]. These devices include standard foot pedals, haptic devices like Geomagic Touch, and a 3D mouse.
 </p>
 <p>
  <strong>
   Collision Detection:
  </strong>
  The Collision Detection module detects and reports collisions between two geometric entities in a scene. The module contains many narrow phase intersection tests between simpler geometric primitives and advanced collision detection that use spatial hashing.
 </p>
 <p>
  <strong>
   Collision Handling:
  </strong>
  The Collision Handling module encodes formulations that act on the collision information to physically resolve the intersection between two objects in a scene. Currently, iMSTK offers constraint- and penalty based collision handling features.
 </p>
 <p>
  <strong>
   Numerical Solver:
  </strong>
  The Solver module supports linear and nonlinear numerical solvers that resolve the unknowns at the end of each frame and, thus, form the workhorse of the simulation. Standard direct solvers such as LU and LDLT decomposition as well as iterative solvers such as Conjugate gradient and point relaxation (e.g., Gauss-Seidel and Jacobi) are available.
 </p>
 <p>
  <strong>
   Virtual Reality:
  </strong>
  iMSTK features SteamVR support that works with standard VR head-mounted devices such as Oculus and HTC Vive. As it stands, this support is compatible with the VTK backend only.
 </p>
 <p>
  <strong>
   Build and CI:
  </strong>
  iMSTK allows automatic CMake-based cross-platform builds where the dependencies are fetched and built automatically. Additionally, default project resources are downloaded and placed in the appropriate directories.
 </p>
 <p>
  iMSTK also uses a quality control workflow that includes a stringent testing suite, a continuous integration system that is based on CTest and CDash, a web-based code review system and a protocol for accepting patches into the main code repository.
 </p>
 <h1>
  Downloading and Building iMSTK
 </h1>
 <p>
  The iMSTK source code is available from the toolkit’s
  <a href="http://www.imstk.org/download/" rel="noopener" target="_blank">
   download page
  </a>
  . iMSTK is supported on all major platforms. It can be configured on Linux, macOS or Windows using
  <a href="https://cmake.org/runningcmake/" rel="noopener" target="_blank">
   CMake
  </a>
  .
 </p>
 <h2>
  Linux and macOS
 </h2>
 <p>
  To build iMSTK on Linux or macOS, type the following commands from the location where the code is cloned. This will configure the build in a directory adjacent to the source directory. To easily change configuration variables like
  <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41d4a30c73c578530013" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important;">
   <span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
    CMAKE_BUILD_TYPE
   </span>
  </span>
  , use
  <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41d4a30c743370425491" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important;">
   <span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
    ccmake
   </span>
  </span>
  in place of
  <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41d4a30c746177632714" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important;">
   <span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
    cmake
   </span>
  </span>
  .
 </p>
 <p>
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41d4a30c748851988586" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 25px !important;" wrap="soft">
mkdir iMSTK-build
cd iMSTK-build
cmake ../iMSTK #/path/to/source/directory
make -j4 #to build using 4 cores</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41d4a30c748851988586-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c748851988586-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c748851988586-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c748851988586-4">
        4
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 12px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41d4a30c748851988586-1">
        <span class="crayon-e">
         mkdir
        </span>
        <span class="crayon-v">
         iMSTK
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-e">
         build
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c748851988586-2">
        <span class="crayon-e">
         cd
        </span>
        <span class="crayon-v">
         iMSTK
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-e">
         build
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c748851988586-3">
        <span class="crayon-i">
         cmake
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-v">
         iMSTK
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-p">
         #/path/to/source/directory
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c748851988586-4">
        <span class="crayon-v">
         make
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-v">
         j4
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-p">
         #to build using 4 cores
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0001 seconds] -->
 <p>
 </p>
 <p>
  <span style="font-weight: 400">
   For a faster build, use Ninja instead of Unix Makefiles by configuring the
   <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41d4a30c74a490015951" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important;">
    <span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
     cmake
    </span>
   </span>
   project with
   <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41d4a30c74b726146256" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important;">
    <span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
     -GNinja
    </span>
   </span>
   .
  </span>
 </p>
 <p>
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41d4a30c74d157316108" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 25px !important;" wrap="soft">
cmake -GNinja ../iMSTK
ninja</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41d4a30c74d157316108-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c74d157316108-2">
        2
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 12px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41d4a30c74d157316108-1">
        <span class="crayon-v">
         cmake
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         -
        </span>
        <span class="crayon-i">
         GNinja
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-e">
         iMSTK
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c74d157316108-2">
        <span class="crayon-v">
         ninja
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0001 seconds] -->
 <p>
 </p>
 <p>
  This will check out, build and link all iMSTK dependencies. If you want to make changes to iMSTK’s base source code or run examples, build from the Innerbuild directory.
 </p>
 <h2>
  Windows
 </h2>
 <p>
  Run CMake-GUI and follow the instructions from “
  <a href="https://cmake.org/runningcmake/" rel="noopener" target="_blank">
   Running CMake
  </a>
  .” You will be prompted to choose a version of Visual Studio. Select Microsoft Visual Studio C++ 15 2017.
 </p>
 <p>
  CMake will generate an iMSTK.sln solution file for Visual Studio at the top level. Open this file and build all targets to check out, build and link all iMSTK dependencies. If you want to build on multiple cores, add
  <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41d4a30c74f107251614" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important;">
   <span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
    /MP[N]
   </span>
  </span>
  to
  <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41d4a30c751166208611" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important;">
   <span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 25px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
    CMAKE_CXX_FLAGS
   </span>
  </span>
  in CMake-GUI, where N is optional (representing the number of cores). Without N, the build will use all of the available cores on the device.
 </p>
 <h2>
  Additional Build Options
 </h2>
 <p>
  For additional build options such as enabling the Vulkan rendering backend or using a haptic device, please refer to the
  <a href="https://gitlab.kitware.com/iMSTK/iMSTK#3-building-imstk" rel="noopener" target="_blank">
   instructions
  </a>
  on the code repository page.
 </p>
 <h1>
  Hello World Example
 </h1>
 <p>
  Now that you’ve built iMSTK, it’s time to try it out. In this “Hello World” example, a simple elastic object is deformed under gravity and visualized as part of the iMSTK scene. The comments describe the steps.
 </p>
 <p>
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41d4a30c753258083693" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 20px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 20px !important;" wrap="soft">
using namespace imstk;
///
/// \brief imstk hello world example
///  Creates and visualizes a simple elastic object constrained at certain points
///
int main()
{
    // Create the simulation manager 
    auto sdk = std::make_shared&lt;SimulationManager&gt;();

    // Create imstk scene
    auto scene = sdk-&gt;createNewScene("HelloWorld");

    // Load a sample volumetric mesh
    auto volTetMesh = std::dynamic_pointer_cast&lt;TetrahedralMesh&gt;(MeshIO::read(iMSTK_DATA_ROOT "/asianDragon/asianDragon.veg"));

    // Create a surface mesh for display purposes that is extracted from loaded volume mesh
    auto surfMesh = std::make_shared&lt;SurfaceMesh&gt;();
    volTetMesh-&gt;extractSurfaceMesh(surfMesh, true);

    // Create a visual model
    auto surfMeshModel = std::make_shared&lt;VisualModel&gt;(surfMesh);

    // Construct a map that relates volumetric and surface mesh

    // Construct one to one nodal map based on the above meshes
    auto oneToOneNodalMap = std::make_shared&lt;OneToOneMap&gt;();
    oneToOneNodalMap-&gt;setMaster(volTetMesh);
    oneToOneNodalMap-&gt;setSlave(surfMesh);
    oneToOneNodalMap-&gt;compute();


    // Create a deformable object
    auto deformableObj = std::make_shared&lt;PbdObject&gt;("PBDobject");
    auto pbdModel = std::make_shared&lt;PbdModel&gt;();
    pbdModel-&gt;setModelGeometry(volTetMesh); 
    
    // configure the physics model
    pbdModel-&gt;configure(/*Number of Constraints*/ 1,
                        /*Constraint configuration*/ "FEM StVk 100.0 0.3",
                        /*Mass*/ 1.0,
                        /*Gravity*/ "0 -9.8 0",
                        /*TimeStep*/ 0.01,
                        /*FixedPoint*/ "51 127 178",
                        /*NumberOfIterationInConstraintSolver*/ 5
                        );

    // Configure the deformable body
    deformableObj-&gt;setDynamicalModel(pbdModel); // set the physics model
    deformableObj-&gt;addVisualModel(surfMeshModel); // set the geometry to be used for rendering
    deformableObj-&gt;setPhysicsGeometry(volTetMesh); // set the geometry to be used for physics
    deformableObj-&gt;setPhysicsToVisualMap(oneToOneNodalMap); // assign the computed map
    deformableObj-&gt;setPbdModel(pbdModel); 
    
    auto pbdSolver = std::make_shared&lt;PbdSolver&gt;();
    pbdSolver-&gt;setPbdObject(deformableObj);
    
    scene-&gt;addNonlinearSolver(pbdSolver);
    scene-&gt;addSceneObject(deformableObj);

    // Light
    scene-&gt;addLight(std::make_shared&lt;DirectionalLight&gt;("light"));

    // Run the scene
    sdk-&gt;setActiveScene(scene);
    sdk-&gt;startSimulation();

    return 0;
}</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 20px !important;">
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-10">
        10
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-11">
        11
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-12">
        12
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-13">
        13
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-14">
        14
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-15">
        15
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-16">
        16
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-17">
        17
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-18">
        18
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-19">
        19
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-20">
        20
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-21">
        21
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-22">
        22
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-23">
        23
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-24">
        24
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-25">
        25
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-26">
        26
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-27">
        27
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-28">
        28
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-29">
        29
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-30">
        30
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-31">
        31
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-32">
        32
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-33">
        33
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-34">
        34
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-35">
        35
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-36">
        36
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-37">
        37
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-38">
        38
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-39">
        39
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-40">
        40
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-41">
        41
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-42">
        42
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-43">
        43
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-44">
        44
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-45">
        45
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-46">
        46
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-47">
        47
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-48">
        48
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-49">
        49
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-50">
        50
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-51">
        51
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-52">
        52
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-53">
        53
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-54">
        54
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-55">
        55
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-56">
        56
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-57">
        57
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-58">
        58
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-59">
        59
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-60">
        60
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-61">
        61
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-62">
        62
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-63">
        63
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-64">
        64
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-65">
        65
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-66">
        66
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-67">
        67
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-68">
        68
       </div>
       <div class="crayon-num" data-line="crayon-5c41d4a30c753258083693-69">
        69
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 12px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-1">
        <span class="crayon-r">
         using
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         namespace
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         imstk
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-2">
        <span class="crayon-c">
         ///
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-3">
        <span class="crayon-c">
         /// \brief imstk hello world example
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-4">
        <span class="crayon-c">
         ///  Creates and visualizes a simple elastic object constrained at certain points
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-5">
        <span class="crayon-c">
         ///
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-6">
        <span class="crayon-t">
         int
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         main
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-7">
        <span class="crayon-sy">
         {
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-8">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Create the simulation manager
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-9">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         sdk
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         SimulationManager
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-10">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-11">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Create imstk scene
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-12">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         scene
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         sdk
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         createNewScene
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-s">
         "HelloWorld"
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-13">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-14">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Load a sample volumetric mesh
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-15">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         volTetMesh
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         dynamic_pointer_cast
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         TetrahedralMesh
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         MeshIO
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-e">
         read
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         iMSTK_DATA
        </span>
        <span class="crayon-sy">
         _
        </span>
        ROOT
        <span class="crayon-h">
        </span>
        <span class="crayon-s">
         "/asianDragon/asianDragon.veg"
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-16">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-17">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Create a surface mesh for display purposes that is extracted from loaded volume mesh
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-18">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         surfMesh
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         SurfaceMesh
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-19">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         volTetMesh
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         extractSurfaceMesh
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         surfMesh
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-t">
         true
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-20">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-21">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Create a visual model
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-22">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         surfMeshModel
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         VisualModel
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         surfMesh
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-23">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-24">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Construct a map that relates volumetric and surface mesh
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-25">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-26">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Construct one to one nodal map based on the above meshes
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-27">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         oneToOneNodalMap
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         OneToOneMap
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-28">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         oneToOneNodalMap
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setMaster
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         volTetMesh
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-29">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         oneToOneNodalMap
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setSlave
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         surfMesh
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-30">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         oneToOneNodalMap
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         compute
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-31">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-32">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-33">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Create a deformable object
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-34">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         PbdObject
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-s">
         "PBDobject"
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-35">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         pbdModel
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         PbdModel
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-36">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         pbdModel
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setModelGeometry
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         volTetMesh
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-37">
        <span class="crayon-h">
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-38">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // configure the physics model
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-39">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         pbdModel
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         configure
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-c">
         /*Number of Constraints*/
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         1
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-40">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         /*Constraint configuration*/
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-s">
         "FEM StVk 100.0 0.3"
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-41">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         /*Mass*/
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         1.0
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-42">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         /*Gravity*/
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-s">
         "0 -9.8 0"
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-43">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         /*TimeStep*/
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         0.01
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-44">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         /*FixedPoint*/
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-s">
         "51 127 178"
        </span>
        <span class="crayon-sy">
         ,
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-45">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         /*NumberOfIterationInConstraintSolver*/
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         5
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-46">
        <span class="crayon-h">
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-47">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-48">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Configure the deformable body
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-49">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setDynamicalModel
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         pbdModel
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // set the physics model
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-50">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         addVisualModel
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         surfMeshModel
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // set the geometry to be used for rendering
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-51">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setPhysicsGeometry
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         volTetMesh
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // set the geometry to be used for physics
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-52">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setPhysicsToVisualMap
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         oneToOneNodalMap
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // assign the computed map
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-53">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setPbdModel
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         pbdModel
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-h">
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-54">
        <span class="crayon-h">
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-55">
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         auto
        </span>
        <span class="crayon-v">
         pbdSolver
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         PbdSolver
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-56">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         pbdSolver
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setPbdObject
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-57">
        <span class="crayon-h">
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-58">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         scene
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         addNonlinearSolver
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         pbdSolver
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-59">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         scene
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         addSceneObject
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         deformableObj
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-60">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-61">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Light
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-62">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         scene
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         addLight
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         std
        </span>
        <span class="crayon-o">
         ::
        </span>
        <span class="crayon-v">
         make_shared
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-v">
         DirectionalLight
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-s">
         "light"
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-63">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-64">
        <span class="crayon-h">
        </span>
        <span class="crayon-c">
         // Run the scene
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-65">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         sdk
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         setActiveScene
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         scene
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-66">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         sdk
        </span>
        <span class="crayon-o">
         -&gt;
        </span>
        <span class="crayon-e">
         startSimulation
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-67">
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-68">
        <span class="crayon-h">
        </span>
        <span class="crayon-st">
         return
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-cn">
         0
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41d4a30c753258083693-69">
        <span class="crayon-sy">
         }
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0018 seconds] -->
 <p>
 </p>
 <div class="wp-caption aligncenter" id="attachment_24136" style="width: 1534px">
  <img alt="" class="wp-image-24136 size-full" height="1265" sizes="(max-width: 1524px) 100vw, 1524px" src="http://blog.kitware.com/wp-content/uploads/2018/12/pre.png" srcset="https://blog.kitware.com/wp-content/uploads/2018/12/pre.png 1524w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-300x249.png 300w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-768x637.png 768w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-1024x850.png 1024w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-220x183.png 220w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-250x208.png 250w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-355x295.png 355w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-730x606.png 730w, https://blog.kitware.com/wp-content/uploads/2018/12/pre-90x75.png 90w" width="1524"/>
  <p class="wp-caption-text">
   The output from the “Hello World” example shows object configuration at the start, t=0 sec.
  </p>
 </div>
 <div class="wp-caption aligncenter" id="attachment_24137" style="width: 1534px">
  <img alt="" class="wp-image-24137 size-full" height="1265" sizes="(max-width: 1524px) 100vw, 1524px" src="http://blog.kitware.com/wp-content/uploads/2018/12/post.png" srcset="https://blog.kitware.com/wp-content/uploads/2018/12/post.png 1524w, https://blog.kitware.com/wp-content/uploads/2018/12/post-300x249.png 300w, https://blog.kitware.com/wp-content/uploads/2018/12/post-768x637.png 768w, https://blog.kitware.com/wp-content/uploads/2018/12/post-1024x850.png 1024w, https://blog.kitware.com/wp-content/uploads/2018/12/post-220x183.png 220w, https://blog.kitware.com/wp-content/uploads/2018/12/post-250x208.png 250w, https://blog.kitware.com/wp-content/uploads/2018/12/post-355x295.png 355w, https://blog.kitware.com/wp-content/uploads/2018/12/post-730x606.png 730w, https://blog.kitware.com/wp-content/uploads/2018/12/post-90x75.png 90w" width="1524"/>
  <p class="wp-caption-text">
   This images displays the configuration at a later time when the object reaches force equilibrium.
  </p>
 </div>
 <p>
  Below are the additional runtime user keyboard controls that are available by default.
 </p>
 <ul>
  <li>
   ‘space’: pause or the run simulation
  </li>
  <li>
   R/r: restart the simulation
  </li>
  <li>
   D/d: toggle between debug and simulation rendering modes
  </li>
  <li>
   P/p: display the render frame rate on the screen (see the images above)
  </li>
 </ul>
 <p>
  <span style="font-weight: 400">
   You can use ‘debug rendering mode’ to show the camera and lights of the scene, as well as to pan, zoom and rotate the scene with a mouse.
  </span>
 </p>
 <h1>
  Part II
 </h1>
 <p>
  Part II of this blog series will discuss some of the medical trainer applications that we have developed with iMSTK. These applications cover different medical domains and use iMSTK in combination with 3D Slicer and VTK. We will further discuss upcoming development plans and our efforts to integrate newer software such as Computational Model Builder (CMB) (which helps string together all of the components of a simulation lifecycle) and the Pulse Physiology engine (which models and simulates human physiology using reduced models) to a support wide variety of workflows that are required by modern medical simulators.
 </p>
 <h1>
  Acknowledgment
 </h1>
 <p>
  Research reported in this publication was supported, in part, by the National Institute of Biomedical Imaging And Bioengineering of the National Institutes of Health (NIH) under Award Number R44EB019802; by the National Institute of Diabetes and Digestive and Kidney Diseases of the National Institutes of Health under Award Number R43DK115332; by the Office Of The Director, National Institutes Of Health of the National Institutes of Health under Award Number R44OD018334; and by the National Institute of Dental &amp; Craniofacial Research of the National Institutes of Health under Award Number R43DE027595.
 </p>
 <p>
  The content is solely the responsibility of the authors and does not necessarily represent the official views of the NIH and its institutes.
 </p>
 <h1>
  References
 </h1>
 <ol>
  <li>
   Satava, R. M. (2007). Historical Review of Surgical Simulation—A Personal Perspective. World Journal of Surgery 32(2): 141- 148.
  </li>
  <li>
   Ahlberg, Gunnar, Lars Enochsson, Anthony G Gallagher, Leif Hedman, Christian Hogman, David A McClusky, Stig Ramel, C Daniel Smith, and Dag Arvidsson. 2007. “Proficiency-based Virtual Reality Training Significantly Reduces the Error Rate for Residents During Their First 10 Laparoscopic Cholecystectomies.” American Journal of Surgery 193 (6): 797–804.
  </li>
  <li>
   Seymour, Neal E, Anthony G Gallagher, Sanziana A Roman, Michael K O’Brien, Vipin K Bansal, Dana K Andersen, and Richard M Satava. 2002. “Virtual Reality Training Improves Operating Room Performance.” Annals of Surgery 236 (4): 458–464.
  </li>
  <li>
   Aggarwal, Rajesh, Kimberly M. Brown, Piet C. de Groen, Anthony G. Gallagher, Kerm Henriksen, Louis R. Kavoussi, Grace C. Y. Peng, et al. 2017. “Simulation Research in Gastrointestinal and Urologic Care-Challenges and Opportunities: Summary of a National Institute of Diabetes and Digestive and Kidney Diseases and National Institute of Biomedical Imaging and Bioengineering Workshop.” Journal of Clinical Gastroenterology, May.
  </li>
  <li>
   Müller, Matthias, Bruno Heidelberger, Marcus Hennix, and John Ratcliff. 2007. “Position Based Dynamics.” J. Vis. Comun. Image Represent. 18 (2): 109–118.
  </li>
  <li>
   Schroeder, Will; Martin, Ken; Lorensen, Bill (2006), The Visualization Toolkit (4th ed.), Kitware, ISBN 978-1-930934-19-1.
  </li>
  <li>
   Taylor II, Russell M., et al. “VRPN: a device-independent, network-transparent VR peripheral system.” Proceedings of the ACM symposium on Virtual reality software and technology. ACM, 2001.
  </li>
 </ol>
</div>
