<meta charset="utf-8">
<div class="entry-content">
 <p>
  Python scripting is an important part of ParaView.  There are several places where the users are expected to enter, edit or inspect Python scripts including the Python shell, the Properties panel for Programmable Filter or Programmable Source and the Python Script Editor used for adding macros/tracing.  One of the common complaints is that these are simply text entry widgets not designed for accepting Python code, thus they have no proper syntax coloring or handling of tabs/indentation.
 </p>
 <p>
  New changes on the way to being merged in ParaView’s development repository will improve these greatly.  ParaView will depend on the
  <a href="http://pygments.org">
   pygments Python module
  </a>
  which will be included in ParaView.  This module can be used to provide syntax highlighting for a variety of languages including Python.  The Python script editor (most easily seen by clicking Tools-&gt;Start Trace followed by Tools-&gt;Stop Trace and covered in a
  <a href="https://blog.kitware.com/new-in-paraview-python-trace-on-the-fly/">
   prior blog
  </a>
  ) now supports Python syntax highlighting.  This will make the code far easier to read.
 </p>
 <p>
  <a href="/blog/files/422_142420351.png" rel="noopener" target="_blank">
   <img src="https://blog.kitware.com/blog/files/Small.422_142420351.png" width="100%"/>
  </a>
 </p>
 <p>
  Additionally the behavior of the tab key has been altered to insert four spaces instead of a tab.  Since mixing spaces and tabs in Python code is illegal, the version of Pygments within ParaView has been altered to highlight tabs in red so that the user will know which indentation style is in use.  If ParaView is using the system Pygments library this additional functionality will not be enabled.
 </p>
 <p>
  Python code is also used in ParaView in the properties panel of the Programmable Filter and Programmable Source.  The Properties panel text areas have also been changed to highlight syntax for python and convert tab key presses to spaces.
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e801ee4d3631958082" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
 &lt;a href="https://www.kitware.com/blog/files/422_1313409007.png" target="_blank" rel="noopener"&gt;&lt;img src="https://www.kitware.com/blog/files/Small.422_1313409007.png" width="369" height="540" /&gt;&lt;/a&gt;</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e801ee4d3631958082-1">
        1
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e801ee4d3631958082-1">
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-i">
         a
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         href
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "https://www.kitware.com/blog/files/422_1313409007.png"
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         target
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "_blank"
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         rel
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "noopener"
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-e">
         img
        </span>
        <span class="crayon-v">
         src
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "https://www.kitware.com/blog/files/Small.422_1313409007.png"
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         width
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "369"
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         height
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "540"
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-o">
         &gt;
        </span>
        <span class="crayon-o">
         &lt;
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-v">
         a
        </span>
        <span class="crayon-o">
         &gt;
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0002 seconds] -->
 <p>
  Aditionally, since the text areas in the properties panel are too small to edit large scripts, a button has been added to pop out the text area into a separate dialog that can be resized.
 </p>
 <p>
  <a href="/blog/files/422_1635310363.png" rel="noopener" target="_blank">
   <img src="https://blog.kitware.com/blog/files/Small.422_1635310363.png" width="100%"/>
  </a>
 </p>
 <p>
  The Python Shell has been improved so that the tab key will work for indentation, but it does not support syntax highlighting yet.  If this is a desired feature please let us know.
 </p>
 <h2>
  Developer Information
 </h2>
 <p>
  If you are writing a ParaView module that is using a QTextEdit subclass and you want to add Python syntax highlighting to your QTextEdit, the pqPythonSyntaxHighlighter class is provided.  The modifications to the behavior of the QTextEdit can be added like this:
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e801ee4db864745282" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
QTextEdit *edit = new QTextEdit(parent);
new pqPythonSyntaxHighlighter(edit,parent);</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e801ee4db864745282-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4db864745282-2">
        2
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e801ee4db864745282-1">
        <span class="crayon-e ">
         QTextEdit *
        </span>
        <span class="crayon-v">
         edit
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-r">
         new
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         QTextEdit
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-r">
         parent
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4db864745282-2">
        <span class="crayon-r">
         new
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         pqPythonSyntaxHighlighter
        </span>
        <span class="crayon-sy">
         (
        </span>
        <span class="crayon-v">
         edit
        </span>
        <span class="crayon-sy">
         ,
        </span>
        <span class="crayon-r">
         parent
        </span>
        <span class="crayon-sy">
         )
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0002 seconds] -->
 <p>
  If you are adding a filter type to ParaView and want the properties panel text area to be syntax highlighted and able to pop out into a dialog, this can be easily added to any multi-line widget.  The hint syntax=”python” in the XML will cause the python syntax highlighting, modified tab behavior and pop out to a dialog button to be added to that text area.  The following is an excerpt from the Python Programmable Fitler xml, showing the hint in use:
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e801ee4de598159521" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
&amp;lt;StringVectorProperty command="SetScript"
                            name="Script"
                            number_of_elements="1"
                            panel_visibility="default"&amp;gt;
  &amp;lt;Hints&amp;gt;
    &amp;lt;Widget type="multi_line" syntax="python" /&amp;gt;
  &amp;lt;/Hints&amp;gt;
  &amp;lt;Documentation&amp;gt;This property contains the text of a python program that
        the programmable filter runs.&amp;lt;/Documentation&amp;gt;
&amp;lt;/StringVectorProperty&amp;gt;</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-1">
        1
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-2">
        2
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-3">
        3
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-4">
        4
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-5">
        5
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-6">
        6
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-7">
        7
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-8">
        8
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-9">
        9
       </div>
       <div class="crayon-num" data-line="crayon-5c41e801ee4de598159521-10">
        10
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-1">
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         lt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-e">
         StringVectorProperty
        </span>
        <span class="crayon-v">
         command
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "SetScript"
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-2">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         name
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "Script"
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-3">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         number_of_elements
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "1"
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-4">
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         panel_visibility
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "default"
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         gt
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-5">
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         lt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-v">
         Hints
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         gt
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-6">
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         lt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-e">
         Widget
        </span>
        <span class="crayon-v">
         type
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "multi_line"
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-v">
         syntax
        </span>
        <span class="crayon-o">
         =
        </span>
        <span class="crayon-s">
         "python"
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         gt
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-7">
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         lt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-v">
         Hints
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         gt
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-8">
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         lt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-v">
         Documentation
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         gt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-r">
         This
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-m">
         property
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         contains
        </span>
        <span class="crayon-e">
         the
        </span>
        <span class="crayon-e">
         text
        </span>
        <span class="crayon-i">
         of
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-i">
         a
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-e">
         python
        </span>
        <span class="crayon-e">
         program
        </span>
        <span class="crayon-e">
         that
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-9">
        <span class="crayon-e">
        </span>
        <span class="crayon-e">
         the
        </span>
        <span class="crayon-e">
         programmable
        </span>
        <span class="crayon-e">
         filter
        </span>
        <span class="crayon-v">
         runs
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         lt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-v">
         Documentation
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         gt
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
       <div class="crayon-line" id="crayon-5c41e801ee4de598159521-10">
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         lt
        </span>
        <span class="crayon-sy">
         ;
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-v">
         StringVectorProperty
        </span>
        <span class="crayon-o">
         &amp;
        </span>
        <span class="crayon-v">
         gt
        </span>
        <span class="crayon-sy">
         ;
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0005 seconds] -->
 <p>
 </p>
</div>
