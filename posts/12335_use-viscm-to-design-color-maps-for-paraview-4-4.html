<meta charset="utf-8">
<div class="entry-content">
 <p>
  <strong>
   Update:
  </strong>
  Viridis and three other color maps with similar design parameters are now included in ParaView 5.0!
 </p>
 <p>
  This week at
  <a href="http://scipy2015.scipy.org/ehome/index.php?eventid=115969&amp;">
   SciPy2015
  </a>
  I attended the talk by
  <a href="https://twitter.com/stefanvdwalt">
   Stéfan van der Walt
  </a>
  and
  <a href="http://vorpus.org/">
   Nathaniel Smith
  </a>
  on designing a better default color map for Python (you can view a recording of the talk
  <a href="https://www.youtube.com/watch?v=xAoljeRJ3lU&amp;list=PLYx7XA2nY5Gcpabmu61kKcToLz0FapmHu&amp;index=3">
   here
  </a>
  ). matplotlib’s current default color map, shown below, is based on the rainbow color map, which has been shown  to actively
  <a href="http://www.computer.org/csdl/mags/cg/2007/02/mcg2007020014-abs.html">
   mislead
  </a>
  viewers in their interpretation of data.
 </p>
 <p>
  <a href="/blog/files/332_2128893285.png" rel="noopener" target="_blank">
   <img alt="" src="https://blog.kitware.com/blog/files/Small.332_2128893285.png" width="100%"/>
  </a>
 </p>
 <p>
  Smith and van der Walt’s talk laid out a few properties desired in a new default color map. It should be:
 </p>
 <ul>
  <li>
   Colorful
  </li>
  <li>
   Pretty
  </li>
  <li>
   Sequential
  </li>
  <li>
   Perceptually uniform in terms of uniform changes between successive colors in the map (even if printed in black and white)
  </li>
  <li>
   Accessible to color blind viewers (5-10% of males of European descent)
  </li>
 </ul>
 <p>
  The proposed default color map, named viridis
  <span style="color: #292f33;font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;line-height: 22px">
   , looks like this:
  </span>
 </p>
 <p>
  <a href="/blog/files/332_698280488.png" rel="noopener" target="_blank">
   <img alt="" src="https://blog.kitware.com/blog/files/Small.332_698280488.png" width="100%"/>
  </a>
 </p>
 <p>
  This is a vast improvement over the jet colormap in terms of perceptual uniformity, accessibility to color blind viewers, and conversion to black and white.
 </p>
 <p>
  But why should matplotlib have all the fun? Attached is a JSON file that can be imported into ParaView
  <span style="line-height: 20.7999992370605px">
   4.4 (coming later this summer; bleeding edge
  </span>
  <a href="http://www.paraview.org/download/" style="line-height: 20.7999992370605px">
   nightly builds
  </a>
  are available now
  <span style="line-height: 20.7999992370605px">
   ) and later.
  </span>
  <span style="line-height: 20.7999992370605px">
   To import this color map, open up the Color Map Editor and click on the “Choose preset” button. In the dialog that appears, choose the “Import” button, and select the file
   <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41e82c11d91272844559" style="font-size: 16px !important; line-height: 25px !important;font-size: 16px !important;">
    <span class="crayon-pre crayon-code" style="font-size: 16px !important; line-height: 25px !important;font-size: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
     <span class="crayon-v">
      paraview_cmap
     </span>
     <span class="crayon-sy">
      .
     </span>
     <span class="crayon-v">
      json
     </span>
    </span>
   </span>
  </span>
  <span style="line-height: 20.7999992370605px">
   . Viola! Viridis is now available in ParaView!
  </span>
 </p>
 <p>
  <span style="line-height: 20.7999992370605px">
   <strong>
    Update:
   </strong>
  </span>
  <a href="https://twitter.com/nicoguaro" style="line-height: 20.7999992370605px">
   Nicolás Guarín
  </a>
  <span style="line-height: 20.7999992370605px">
   has converted the color map to the XML format (attached file) that ParaView versions prior to 4.4 can import.
  </span>
 </p>
 <p>
  <a href="/blog/files/332_583869442.png" rel="noopener" target="_blank">
   <img alt="" src="https://blog.kitware.com/blog/files/Small.332_583869442.png" width="100%"/>
  </a>
 </p>
 <p>
  Note that this color map is most appropriate for 2D data. Because the luminance of this color map changes from one end to the other, it is not recommended to color 3D surfaces because luminance changes in color maps interfere with surface shading from lighting.
 </p>
 <p>
  To design this improved color map, van der Walt and Smith wrote a Python utility called
  <a href="https://github.com/BIDS/colormap" style="line-height: 20.7999992370605px">
   viscm
  </a>
  to design color maps with these properties. In addition to providing controls to define a color map in a way that has the desired properties, the utility shows the color map as printed in black and white and approximates how it appears to individuals with different types of color blindness. Screen shots of the utility are shown below.
 </p>
 <p>
  <a href="/blog/files/332_1517026998.png" rel="noopener" target="_blank">
   <img alt="" src="https://blog.kitware.com/blog/files/Small.332_1517026998.png" width="100%"/>
  </a>
 </p>
 <p>
  <a href="/blog/files/332_1273315405.png" rel="noopener" target="_blank">
   <img alt="" src="https://blog.kitware.com/blog/files/Small.332_1273315405.png" width="100%"/>
  </a>
 </p>
 <p>
  <span style="line-height: 1.6em">
   A description of viscm and how to use it is available
   <a href="http://bids.github.io/colormap/">
    here
   </a>
   .
  </span>
  <span style="line-height: 20.7999992370605px">
   It
  </span>
  <span style="line-height: 20.7999992370605px">
   provides the ability to export color maps in the form of a Python script.
  </span>
  <span style="line-height: 1.6em">
   Exported color maps are saved in a file named
   <span class="crayon-syntax crayon-syntax-inline crayon-theme-coy crayon-theme-coy-inline crayon-font-monaco" id="crayon-5c41e82c11d99833986528" style="font-size: 16px !important; line-height: 25px !important;font-size: 16px !important;">
    <span class="crayon-pre crayon-code" style="font-size: 16px !important; line-height: 25px !important;font-size: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
     <span class="crayon-o">
      /
     </span>
     <span class="crayon-v">
      tmp
     </span>
     <span class="crayon-o">
      /
     </span>
     <span class="crayon-v">
      new_cm
     </span>
     <span class="crayon-sy">
      .
     </span>
     <span class="crayon-v">
      py
     </span>
    </span>
   </span>
   .
  </span>
 </p>
 <p>
  <span style="line-height: 1.6em">
   I have written a small Python script to convert this file to a JSON file that can be imported into the next release of
  </span>
  <span style="line-height: 1.6em">
   ParaView. To use this script, first download the attached Python script named viscm2paraview.py. Then, run it with
  </span>
 </p>
 <!-- Crayon Syntax Highlighter v_2.7.2_beta -->
 <div class="crayon-syntax crayon-theme-coy crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-5c41e82c11d9c345902501" style=" margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 25px !important;">
  <div class="crayon-plain-wrap">
   <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 25px !important;" wrap="soft">
python viscm2paraview.py /tmp/new_cm.py paraview_cmap.json "My Great Color Map"</textarea>
  </div>
  <div class="crayon-main">
   <table class="crayon-table">
    <tr class="crayon-row">
     <td class="crayon-nums " data-settings="show">
      <div class="crayon-nums-content" style="font-size: 16px !important; line-height: 25px !important;">
       <div class="crayon-num" data-line="crayon-5c41e82c11d9c345902501-1">
        1
       </div>
      </div>
     </td>
     <td class="crayon-code">
      <div class="crayon-pre" style="font-size: 16px !important; line-height: 25px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
       <div class="crayon-line" id="crayon-5c41e82c11d9c345902501-1">
        <span class="crayon-e">
         python
        </span>
        <span class="crayon-v">
         viscm2paraview
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-v">
         py
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-v">
         tmp
        </span>
        <span class="crayon-o">
         /
        </span>
        <span class="crayon-v">
         new_cm
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-e">
         py
        </span>
        <span class="crayon-v">
         paraview_cmap
        </span>
        <span class="crayon-sy">
         .
        </span>
        <span class="crayon-i">
         json
        </span>
        <span class="crayon-h">
        </span>
        <span class="crayon-s">
         "My Great Color Map"
        </span>
       </div>
      </div>
     </td>
    </tr>
   </table>
  </div>
 </div>
 <!-- [Format Time: 0.0001 seconds] -->
 <p>
  Have fun trying viridis and designing new color maps for ParaView!
 </p>
</div>
