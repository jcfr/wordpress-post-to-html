<meta charset="utf-8">
<div class="entry-content">
 <p>
 </p>
 <p>
  Over the past two years, we have been working on
  <span style="line-height: 1.6em;">
   updating
  </span>
  VTK’s
  <span style="line-height: 1.6em;">
   rendering engine to leverage the capabilities of more recent OpenGL implementations. An exciting part of that effort involved turning our attention to running
  </span>
  VTK
  <span style="line-height: 1.6em;">
   on
  </span>
  iOS
  <span style="line-height: 1.6em;">
   and Android. To get there we have added a lot of new capabilities to
  </span>
  VTK including
  <span style="line-height: 1.6em;">
   :
  </span>
 </p>
 <ul>
  <li>
   We added support in the RenderWindowInteractor for multitouch events. We currently have built-in support for receiving and handling multitouch events on iOS, Android, and Windows.
  </li>
 </ul>
 <ul>
  <li>
   We developed a new multitouch camera joystick interactor style. This interactor style includes support for using two fingers to translate, rotate, and zoom the camera while also supporting the usual single finger motions for rotation.​
   <span style="line-height: 1.6em;">
    <span style="line-height: 1.6em;">
     ​
    </span>
   </span>
  </li>
  <li>
   We completely rewrote VTK’s OpenGL rendering engine to support OpenGL version 3.2 and OpenGL ES versions 2.0 and 3.0. The new engine is much faster than the old and includes some neat new capabilities. Please read this
   <a href="https://blog.kitware.com/rendering-engine-improvements-in-vtk/">
    source article
   </a>
   for some more information on the rendering engine update.  The example in this blog post uses the new GPU-based volume mapper developed as part of this updating effort. You can find more information on our volume rendering improvements in this
   <a href="https://blog.kitware.com/volume-rendering-improvements-in-vtk/">
    source article
   </a>
   and this
   <a href="https://blog.kitware.com/volume-rendering-enhancements-in-vtk/" style="line-height: 20.8px;">
    blog post
   </a>
   .
   <span style="line-height: 1.6em;">
    <span style="line-height: 1.6em;">
     ​
    </span>
   </span>
  </li>
  <li>
   We added support for compiling VTK on iOS and Android. While still in a beta stage we have added in support for compiling VTK for Android and iOS platforms.
  </li>
 </ul>
 <p>
  So how do we see it all in action? Well, we have created an example called VolumeRender which is tested on both Android and iOS. It can be found as part of VTK in
 </p>
 <ul>
  <li>
   VTK/Examples/iOS/VolumeRender for iOS
  </li>
  <li>
   VTK/Examples/Android/VolumeRender for Android
  </li>
 </ul>
 <p>
  <span style="line-height: 20.8px;">
   The example has a #if in the code that switches between using a synthetic dataset or reading from a file.
  </span>
  <span style="line-height: 20.8px;">
   The video was rendered using the
  </span>
  <span style="color: #222222; font-family: arial, sans-serif; font-size: 12.8px; line-height: normal;">
   CT-chest.nrrd
  </span>
  <span style="line-height: 20.8px;">
   medical dataset from
  </span>
  <a href="http://www.slicer.org/slicerWiki/index.php/SampleData" style="line-height: 20.8px;">
   Slicer
  </a>
  <span style="line-height: 20.8px;">
   converted to 8 bit and resized to 256x256x130.
  </span>
 </p>
 <p>
  <span style="line-height: 1.6em;">
   To build it
  </span>
  <span style="line-height: 1.6em;">
   you will need a recent version of
  </span>
  VTK
  <span style="line-height: 1.6em;">
   (from November 2015 or later) and, as of this writing, it is best done on an
  </span>
  OSX
  <span style="line-height: 1.6em;">
   or Linux system. Volume rendering requires OpenGL
  </span>
  ES
  <span style="line-height: 1.6em;">
   3.0 so make sure to select that during the
  </span>
  CMake
  <span style="line-height: 1.6em;">
   configure process and have a device to test on that support OpenGL
  </span>
  ES
  <span style="line-height: 1.6em;">
   3.0. Most recent phones and tablets support
  </span>
  ES
  <span style="line-height: 1.6em;">
   3.0. For Android, you will need both the Android SDK and
  </span>
  NDK
  <span style="line-height: 1.6em;">
   . For
  </span>
  iOS
  <span style="line-height: 1.6em;">
   , you will need
  </span>
  XCode
  <span style="line-height: 1.6em;">
   for the example.​
  </span>
  <span style="line-height: 1.6em;">
   You should follow the latest step-by-step instructions on how to build for
  </span>
  <a href="https://gitlab.kitware.com/vtk/vtk/tree/master/Examples/Android#README" style="line-height: 1.6em;">
   Android
  </a>
  <span style="line-height: 1.6em;">
   or
  </span>
  <a href="https://gitlab.kitware.com/vtk/vtk/tree/master/Examples/iOS#README" style="line-height: 1.6em;">
   iOS
  </a>
  <span style="line-height: 1.6em;">
   ,
  </span>
  <span style="line-height: 1.6em;">
   however do note that the whole process is still a bit new
  </span>
  <span style="line-height: 1.6em;">
   so there will likely be a hiccup or two.
  </span>
 </p>
 <p>
  If you want to read from a file, you have to get the file onto your device. For iOS that means telling XCode that your app supports iTunes File Sharing (found in the Custom Target Properties
  <span style="line-height: 1.6em;">
   area under the info section of
  </span>
  Xcode
  <span style="line-height: 1.6em;">
   for your app.) Then use iTunes to add a file to your app. For Android, you can use the
  </span>
  adb
  <span style="line-height: 1.6em;">
   command with the push option.
  </span>
  <span style="line-height: 1.6em;">
   Finally, here is a short video
  </span>
  <span style="line-height: 1.6em;">
   showing the application in action on an iPhone 6.
  </span>
 </p>
 <p style="text-align: center;">
  <iframe allowfullscreen="allowfullscreen" frameborder="0" height="535" mozallowfullscreen="mozallowfullscreen" src="https://player.vimeo.com/video/145646769" webkitallowfullscreen="webkitallowfullscreen" width="300">
  </iframe>
 </p>
 <p style="text-align: center;">
  <a href="https://vimeo.com/145646769">
   VolumeRender
  </a>
  from
  <a href="https://vimeo.com/kitware">
   Kitware
  </a>
  on
  <a href="https://vimeo.com">
   Vimeo
  </a>
  .
 </p>
 <p>
  <span style="font-family: Arial, sans-serif; font-size: 12px; line-height: 16.8px; text-align: justify;">
   We would like to recognize the National Institutes of Health for sponsoring this work under the grant
  </span>
  <span style="line-height: 1.6em;">
   NIH
  </span>
  <span style="line-height: 1.6em;">
   R01EB014955
  </span>
  <span style="font-family: Arial, sans-serif; font-size: 12px; line-height: 16.8px; text-align: justify;">
   “Accelerating Community-Driven Medical Innovation with VTK.”
  </span>
 </p>
</div>
