<meta charset="utf-8">
<div class="entry-content">
 <p>
  At the
  <em>
   Direction des Applications Militaires Île-de-France
  </em>
  (DIF) of the
  <em>
   Commissariat à l’Energie Atomique
  </em>
  (CEA), France, an application-specific visualization tool has been developed to post-process the solutions to the numerical simulations calculated at CEA/DIF. On the visualisation side, this tool uses VTK and ParaView server.
 </p>
 <p>
  One the of the goals of the current collaboration was to add a number of annotation capabilities to VTK, specifically in the following areas:
 </p>
 <ol>
  <li>
   Extension of the existing axis actor and cube axes actor.
  </li>
  <li>
   Addition of a new polar axes actor.
  </li>
  <li>
   Improvement and enhancement of the scalar bar actor.
  </li>
 </ol>
 <p>
  In this article, we briefly report on these new capabilities, which are available in VTK 5.10.
 </p>
 <p>
  <strong>
   <span style="text-decoration: underline; font-size: medium;">
    Cube Axes
   </span>
  </strong>
 </p>
 <p>
  Over the past few years, the 3D cartesian axis capabilities available with VisIt have been extended in order to introduce new capabilities; in particular, the ability to display internal grid lines and or translucent cut planes within cube axes actors. In addition, about 30 control parameters regarding bounds, titles, colors, and labels were added to the original classes, as well as a specific 2D mode to handle poor title/label appearance for two-dimensional results. We integrated these changes to the VisIt classes into VTK, attempting to retain the pre-5.10 VTK behaviour by default whenever possible.
 </p>
 <p style="text-align: center;">
 </p>
 <p>
  <a href="/blog/files/128_740924731.png" target="_blank">
   <img alt="" height="280" src="https://blog.kitware.com/blog/files/Small.128_740924731.png" style="display: block; margin-left: auto; margin-right: auto;" width="280"/>
  </a>
 </p>
 <p>
  <a href="/blog/files/128_368522613.png" target="_blank">
   <img alt="" height="280" src="https://blog.kitware.com/blog/files/Small.128_368522613.png" style="display: block; margin-left: auto; margin-right: auto;" width="280"/>
  </a>
 </p>
 <p>
  <a href="/blog/files/128_1894804357.png" target="_blank">
   <img alt="" height="280" src="https://blog.kitware.com/blog/files/Small.128_1894804357.png" style="display: block; margin-left: auto; margin-right: auto;" width="280"/>
  </a>
 </p>
 <p>
  Specifically, as illustrated here, it is now possible to annotate cube axes with translucent inner planes and inner/outer grids, and to independently control the following settings for each axis:
 </p>
 <ul>
  <li>
   Axes bounds
  </li>
  <li>
   Text and color of each title
  </li>
  <li>
   Text and color of each axis and of its labels
  </li>
  <li>
   Color and display of inner and outer grid lines
  </li>
  <li>
   Color, translucency, and display of internal planes
  </li>
 </ul>
 <p>
  <br/>
  <strong>
   <span style="text-decoration: underline; font-size: medium;">
    Polar Axes
    <br/>
   </span>
  </strong>
 </p>
 <p>
  <span>
   In the context of this collaboration, we created a polar axes actor, a feature which did not exist in VTK until 5.10. The main goal of this actor is to allow the display of a variable number of radial axes, with respect to user-specified origin and polar angle, along with polar arcs attached to the radial tick marks.
   <span>
    We developed this new actor from scratch, based on CEA specifications.
   </span>
   <br/>
  </span>
 </p>
 <p>
  <a href="/blog/files/128_1683378944.png" target="_blank">
   <img alt="" height="280" src="https://blog.kitware.com/blog/files/Small.128_1683378944.png" style="display: block; margin-left: auto; margin-right: auto;" width="280"/>
  </a>
 </p>
 <p>
  As illustrated here, a number of parameters of the polar axes can be independently tuned, such as:
 </p>
 <ul>
  <li>
   Origin and polar angle
  </li>
  <li>
   Number of ticks and polar arcs (or auto-calculation option)
  </li>
  <li>
   Number, display, color, and length of radial axes
  </li>
  <li>
   Number, display, and color of polar arcs
  </li>
  <li>
   Text attributes of axes and arcs titles and labels
  </li>
  <li>
   Level-of-detail parameters
  </li>
 </ul>
 <p>
  <br/>
  <span>
   <strong>
    <span style="text-decoration: underline; font-size: medium;">
     <span>
      <strong>
       <span style="text-decoration: underline; font-size: medium;">
        Scalar Bar
       </span>
      </strong>
     </span>
    </span>
   </strong>
  </span>
 </p>
 <p>
  The class
  <span style="font-size: x-small;">
   vtkScalarBarActor
  </span>
  in VTK had been extended at CEA into a new class called vtkCEAScalarBarActor, in order to:
 </p>
 <ol>
  <li>
   Modify the title and label placement within the scalar bar actor, in order to ensure that all text be placed within the interior of the specified 2D actor size.
  </li>
  <li>
   The addition of optional frame and background color, possibly translucent.
  </li>
 </ol>
 <p>
  <a href="/blog/files/128_346375731.jpg" target="_blank">
   <img alt="" height="199" src="https://blog.kitware.com/blog/files/Small.128_346375731.jpg" style="display: block; margin-left: auto; margin-right: auto;" width="280"/>
  </a>
 </p>
 <p>
  As shown here, we ported these new features into the current VTK scalar bar actor. As a result, we had to modify its default behaviour as it was not ensuring that all text remained within the frame, which lead to visual defects when this option was added. We also used this opportunity to fix title placement behaviour, which was exhibiting collisions with the color bar when placing letters such as ‘q’ or ‘y’. We implemented these changes for both horizontal and vertical bar layout.
 </p>
 <p>
  <span>
   <strong>
    <span style="text-decoration: underline; font-size: medium;">
     Acknowledgments
    </span>
   </strong>
  </span>
 </p>
 <p>
  <span>
   <strong>
   </strong>
   <span>
    This work was made possible thanks to a contract with CEA, Direction des Applications Militaires Île-de-France (DIF), Bruyères-le-Châtel, Bruyères-le-Châtel, 91297 Arpajon, France. We extend special thanks to Daniel Aguilera, Thierry Carrard, and Claire Guilbaud for this fruitful collaboration. We are looking forward to continued collaboration with CEA/DIF in this and other areas of scientific visualization.
   </span>
   <br/>
  </span>
 </p>
</div>
